[General]
# é€šç”¨
# Internet æµ‹è¯• URL
internet-test-url = http://captive.apple.com/generate_204
# ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://cp.cloudflare.com/generate_204
# æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰:Surge å°†å‘è¯¥ URL å‘é€ä¸€ä¸ª HTTP HEAD è¯·æ±‚ã€‚æµ‹è¯•åªå…³å¿ƒæ˜¯å¦æ”¶åˆ°äº†è¿”å›æ•°æ®ï¼Œå¹¶ä¸å…³å¿ƒæ•°æ®å†…å®¹ã€‚ä»…æ”¯æŒ http:// åè®®
test-timeout = 3
# UDP ä»£ç†è½¬å‘æµ‹è¯•æŒ‡å®šï¼šé»˜è®¤å‘ 8.8.8.8 æŸ¥è¯¢ apple.comï¼Œå¯ä½¿ç”¨ proxy-test-udp å‚æ•°ä¿®æ”¹ï¼Œå¦‚ proxy-test-udp = google.com@1.1.1.1
# proxy-test-udp = google.com@1.1.1.1
# å¢å¼ºç‰ˆ Wi-Fi åŠ©ç†
# Surge ä¼šåœ¨ Wi-Fi ç½‘ç»œä¸ä½³æ—¶å°è¯•ä½¿ç”¨æ•°æ®ç½‘ç»œå»ºç«‹è¿æ¥ã€‚è¯¥åŠŸèƒ½å°†å¯¹æ‰€æœ‰è¿æ¥ç”Ÿæ•ˆï¼Œè¯·ä»…å½“ä½¿ç”¨ä¸é™é‡çš„æ•°æ®æµé‡æ—¶å¼€å¯ã€‚
wifi-assist = false
# æ··åˆç½‘ç»œï¼šæ— è®º Wi-Fi ä¿¡å·å¦‚ä½•ï¼Œæ€»æ˜¯å°è¯•å¹¶å‘ä½¿ç”¨ Wi-Fi å’Œæ•°æ®ç½‘ç»œè¿æ¥ã€‚å¼€å¯åï¼Œç­‰åŒäºå¯¹æ‰€æœ‰ç­–ç•¥è®¾ç½® hybrid = trueï¼Œæ‰€æœ‰ TCP è¿æ¥åœ¨å»ºç«‹æ—¶å‡ä¼šå¹¶å‘å°è¯•æ•°æ®ç½‘ç»œå’Œ WiFi è¿æ¥ï¼Œä¹Ÿå°±è¯´å¦‚æœä¸æƒ³å¯¹æ‰€æœ‰ç­–ç•¥å¯ç”¨ã€Œæ··åˆç½‘ç»œã€å¯ä»¥æŒ‡å®šç›®æ ‡ç­–ç•¥ä½¿ç”¨ï¼Œå¦‚ï¼š
# HYBRID = direct, hybrid=true
# ä½†å®é™…ä¸Šå¯ä»¥ä¸ç”¨è¿™ä¹ˆå†™ï¼Œå› ä¸º Surge æ–°å¢äº†ä¸¤ä¸ªå†…ç½®ç­–ç•¥ï¼š
# HYBRIDï¼šç­‰ä»·äº HYBRID = direct, hybrid=true
# NO-HYBRID ï¼šç­‰ä»·äº NO-HYBRID = direct, hybrid=off
# å¯¹äº DIRECT çš„ã€Œæ··åˆç½‘ç»œã€åº”ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ç›´æ¥ä½¿ä¸Šè¿°ä¸¤ä¸ªå†…ç½®ç­–ç•¥ã€‚
# è‡³äºå…¶ä»–ç­–ç•¥ï¼Œã€Œæ··åˆç½‘ç»œã€çš„å‚æ•°è¯´æ˜å¦‚ä¸‹ï¼š
# hybrid=autoï¼šé»˜è®¤ï¼Œä½¿ç”¨å…¨å±€è®¾ç½®ä¹Ÿå°±æ˜¯ä½¿ç”¨ [General] ä¸‹çš„ all-hybrid è®¾ç½®ï¼›
# hybrid=on æˆ– hybrid=trueï¼šå¯¹è¯¥ç­–ç•¥å¯åŠ¨å¹¶å‘è¿æ¥ï¼›
# hybrid=offï¼šå³ä½¿åœ¨ All Hybrid æˆ– WiFi Assist å¼€å¯æ—¶ï¼Œæœ‰ WiFi å°±ä¸ä½¿ç”¨æ•°æ®ç½‘ç»œï¼›
# é™¤æ­¤ä¹‹å¤–ï¼Œæ‰€æœ‰ DNS æŸ¥è¯¢æ“ä½œä¹Ÿéƒ½å°†å¹¶å‘åœ¨æ•°æ®ç½‘ç»œå’Œ WiFi ä¸Šè¿›è¡Œã€‚æ‰€ä»¥è‹¥æƒ³ä½“éªŒè¯¥åŠŸèƒ½ï¼Œè¯·æ‰‹åŠ¨é…ç½®å…¬ç½‘ DNSï¼Œæš‚ä¸æ”¯æŒ DOHã€‚
# è¯¥é€‰é¡¹å¯æ˜¾è‘—æ”¹å–„åœ¨å¼± Wi-Fi å’Œç½‘ç»œåˆ‡æ¢æ—¶çš„ç½‘ç»œä½“éªŒã€‚è¯¥é€‰é¡¹å¯¹æ‰€æœ‰ TCP è¿æ¥å’Œ DNS æŸ¥è¯¢ç”Ÿæ•ˆã€‚è¯·ä»…å½“ä½¿ç”¨ä¸é™é‡çš„æ•°æ®æµé‡å¥—é¤æ—¶å¼€å¯ã€‚
all-hybrid = flase
# ã€ŒWi-Fi åŠ©ç†ã€å’Œã€Œæ··åˆç½‘ç»œã€çš„åŒºåˆ«ï¼š
# WiFi Assistï¼šä½¿ç”¨ WiFi å°è¯•å»ºç«‹è¿æ¥åï¼Œå¦‚æœä¸€ç§’é’Ÿå†…ä»æœªå®Œæˆï¼Œåˆ™å†ä½¿ç”¨æ•°æ®ç½‘ç»œå°è¯•è¿æ¥ã€‚é€‰æ‹©æœ€å…ˆå®Œæˆçš„ TCP è¿æ¥ï¼›
# Hybridï¼šç›´æ¥å¹¶å‘å»ºç«‹ä¸¤ä¸ª TCP è¿æ¥ï¼Œé€‰æ‹©æœ€å…ˆå®Œæˆçš„ TCP è¿æ¥.
# GeoIP æ•°æ®åº“ï¼Œé»˜è®¤ä½¿ç”¨surgeè‡ªå¸¦.Surge é»˜è®¤æ˜¯ä½¿ç”¨ç”± MaxMind åˆ›å»ºçš„ GeoLite2 æ•°æ®åº“ï¼Œä½†æ˜¯å®ƒçš„ä¿¡æ¯ä¸æ˜¯é‚£ä¹ˆçš„å‡†ç¡®ï¼Œä» Surge iOS 4.5.0 å¼€å§‹å¯ä»¥è‡ªå®šä¹‰ GeoIP æ•°æ®çš„ URLï¼Œéœ€è¦ä¸º MaxMind çš„æ ¼å¼ã€‚
# å¦‚æœæƒ³ä½¿ç”¨ç¬¬ä¸‰æ–¹GeoIPï¼Œä¸‹é¢ä¸¤ä¸ªäºŒé€‰ä¸€å³å¯ï¼Œä¹Ÿå¯è‡ªè¡Œæ›´æ¢ä¸ºå…¶å®ƒç¬¬ä¸‰æ–¹
# åœ¨é…ç½®ä¿¡æ¯è®¾ç½®å¥½ geoip-maxmind-url åå»ºè®®åœ¨å›¾å½¢ç•Œé¢æ‰“å¼€ã€Œè‡ªåŠ¨æ›´æ–°ã€å¼€å…³ï¼ˆæˆ–è€…ç›´æ¥åœ¨å›¾å½¢ç•Œé¢ä¸­è®¾ç½® URL åŠå¼€å…³ï¼‰
geoip-maxmind-url = https://cdn.jsdelivr.net/gh/Hackl0us/GeoIP2-CN@release/Country.mmdb
# geoip-maxmind-url = https://raw.githubusercontent.com/NobyDa/geoip/release/Private-GeoIP-CN.mmdb
# GeoIP ç¦ç”¨è‡ªåŠ¨æ›´æ–°
disable-geoip-db-auto-update = true
# æ˜¯å¦å¯åŠ¨å®Œæ•´çš„ IPv6 æ”¯æŒ (é»˜è®¤å€¼: false)å‚æ•°ï¼štrueï¼šå¼€å¯ï¼Œfalseï¼šå…³é—­
ipv6 = false
# Surge VIF IPv6 Stack
# å…è®¸ IPv6 é€šè¿‡ Surge VIFã€‚å½“å¸Œæœ› Surge å¤„ç†è¿æ¥åˆ° IPv6 åœ°å€çš„åŸå§‹ TCP è¿æ¥æ—¶éå¸¸æœ‰ç”¨ã€‚å¯é€‰é¡¹ï¼štrueï¼Œfalseï¼Œautoï¼Œalways
ipv6-vif = auto
# âš ï¸ éšè—çŠ¶æ€æ ä¸Šçš„VPNå›¾æ ‡ï¼Œå¯åŠ¨è¯¥é€‰é¡¹å¯èƒ½å¯¼è‡´ã€ŒCannot allocate memoryã€ç³»ç»Ÿé”™è¯¯ï¼Œè¯·è°¨æ…ä½¿ç”¨
# hide-vpn-icon = true
# Wi-Fi è®¿é—®
# Surge å¯ä»¥ä½œä¸º HTTP/SOCKS5 ä»£ç†æœåŠ¡å™¨å‘ Wi-Fi ç½‘ç»œä¸‹çš„å…¶ä»–è®¾å¤‡æä¾›æœåŠ¡å™¨
allow-wifi-access = false
# Surge Mac ä¾›å¤–ç½‘è®¿é—®çš„æœåŠ¡ç«¯å£
# HTTP æœåŠ¡ç«¯å£ (é»˜è®¤å€¼: 6152)
# http-listen = 0.0.0.0:6152
# SOCKS5 æœåŠ¡ç«¯å£ (é»˜è®¤å€¼: 6153)
# socks5-listen = 0.0.0.0:6153
# Surge iOS ä¾›å¤–ç½‘è®¿é—®çš„æœåŠ¡ç«¯å£
# HTTP æœåŠ¡ç«¯å£ (é»˜è®¤å€¼: 6152)
wifi-access-http-port = 6152
# SOCKS5 æœåŠ¡ç«¯å£ (é»˜è®¤å€¼: 6153)
wifi-access-socks5-port = 6153
# è¿œç¨‹æ§åˆ¶å™¨
# å…è®¸å¤–éƒ¨æ§åˆ¶å™¨è®¿é—® Surgeï¼ŒSurge Dashboard æˆ– Surge CLI è¿›è¡Œç®¡ç†æ§åˆ¶
# é»˜è®¤ä»…å…è®¸å¤–éƒ¨æ§åˆ¶å™¨é€šè¿‡ USB è¿›è¡Œæ§åˆ¶ã€‚å¦‚æœæƒ³è¦å…è®¸ç”± Wi-Fi æ§åˆ¶å¯ä»¥å°† 127.0.0.1 æ”¹ä¸º 0.0.0.0
external-controller-access = zeaphyou@127.0.0.1:6170
http-api = zeaphyou@127.0.0.1:6171
# ä½¿ç”¨HTTPSæ›¿ä»£HTTPåè®®ï¼Œéœ€è¦å…ˆé…ç½®Mitmçš„CAè¯ä¹¦ï¼ŒåŒæ—¶éœ€è¦åœ¨å®¢æˆ·ç«¯è®¾å¤‡ä¸Šæ‰‹åŠ¨å®‰è£…å¹¶ä¿¡ä»»CAè¯ä¹¦
http-api-tls = false
# é¡µé¢æ§åˆ¶å™¨ï¼šé€šè¿‡é¡µé¢æ§åˆ¶Surgeï¼Œ Safariè¾“å…¥127.0.0.1:6171,å¡«å…¥HTTP-APIå¯†ç å³å¯ã€‚
http-api-web-dashboard = true
# å…è®¸çƒ­ç‚¹å…±äº«
allow-hotspot-access = false
# è¯¥é€‰é¡¹å°†ä½¿å¾—å‘å¾€è¿™äº›åŸŸåæˆ–è€… IP æ®µçš„è¯·æ±‚ç”± Surge VIF è¿›è¡Œå¤„ç†ï¼ˆè€Œä¸æ˜¯ Surge Proxyï¼‰ï¼Œè¯¥é€‰é¡¹ç”¨äºä¿®æ­£å’ŒæŸäº›åº”ç”¨çš„å…¼å®¹æ€§é—®é¢˜ã€‚è¯¥é€‰é¡¹ä¸€èˆ¬åªç”¨äºå¤„ç†æŸäº›ç‰¹æ®Šçš„å…¼å®¹æ€§é—®é¢˜ï¼Œå¹¶ä¸èƒ½ä½¿è¯·æ±‚ç»•è¿‡ Surgeã€‚ï¼ˆå¯¹äº Surge Macï¼Œå¦‚æœæœªå¼€å¯ã€Œå¢å¼ºæ¨¡å¼ã€ï¼Œç¡®å®å¯ä»¥ç»•è¿‡ï¼‰ã€‚
# è‹¥è¦æŒ‡å®šä¸€ä¸ªåŸŸï¼Œè¯·è¾“å…¥åŸŸåã€‚å¦‚ï¼šapple.comï¼›
# è‹¥è¦æŒ‡å®šåŸŸä¸­çš„æ‰€æœ‰ç½‘ç«™ï¼Œè¯·åœ¨åŸŸåå‰ä½¿ç”¨ *ï¼Œå¦‚ï¼š*apple.comï¼›
# è‹¥è¦æŒ‡å®šåŸŸçš„ç‰¹å®šéƒ¨åˆ†ï¼Œè¯·æŒ‡å®šå®Œæ•´éƒ¨åˆ†ã€‚å¦‚ï¼šstore.apple.comï¼›
# è‹¥è¦é€šè¿‡ IP åœ°å€æŒ‡å®šä¸»æœºæˆ–ç½‘ç»œï¼Œè¯·è¾“å…¥ç‰¹å®šçš„ IP åœ°å€ï¼ˆå¦‚ 192.168.2.11ï¼‰æˆ–åœ°å€èŒƒå›´ï¼ˆå¦‚ 192.168.2.* æˆ– 192.168.2.0/24ï¼‰ï¼›
# æ³¨æ„ï¼šå¦‚æœä½ è¾“å…¥ä¸€ä¸ª IP åœ°å€æˆ–åœ°å€èŒƒå›´ï¼Œä½ åªèƒ½åœ¨ä½¿ç”¨è¯¥åœ°å€è¿æ¥åˆ°è¯¥ä¸»æœºæ—¶ç»•è¿‡ä»£ç†ï¼Œè€Œä¸èƒ½åœ¨é€šè¿‡è§£æåˆ°è¯¥åœ°å€çš„åŸŸåè¿æ¥åˆ°ä¸»æœºæ—¶ç»•è¿‡ä»£ç†ã€‚
# å·²åŠ å…¥å¯¹éƒ¨åˆ†æ£€æµ‹ä»£ç†çš„appçš„è·³è¿‡
skip-proxy = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.168.0.0/16, 224.0.0.0/3, ::1/128, fc00::/7, fd00::/8, fe80::/10, ff00::/8, 2001::/32, 2001:db8::/32, 2002::/16, ::ffff:0:0:0:0/1, ::ffff:128:0:0:0/1, localhost, *.local, passenger.t3go.cn, e.crashlytics.com, captive.apple.com, app.yinxiang.com, injections.adguard.org, local.adguard.org, cable.auth.com, www.baidu.com, yunbusiness.ccb.com,*.bankcomm.com,*.ccb.com,*.boc.cn
# å…¼å®¹æ€§ï¼ˆä»… iOS ç‰ˆå¯ç”¨ï¼‰
# 0ï¼šç¦ç”¨
# 1ï¼šProxy with Loopback Address
# 2ï¼šProxy Only
# 3ï¼šTUN Only
# 4ï¼šVIF Proxyï¼šä¸ä½¿ç”¨ 127.0.0.1 çš„å›ç¯åœ°å€ä½œä¸ºä»£ç†ï¼Œä½¿ç”¨ VIF çš„è™šæ‹Ÿä»£ç†åœ°å€ï¼Œå°†äº§ç”Ÿé¢å¤–çš„æ€§èƒ½å¼€é”€
# 5ï¼šNo Default Routeï¼šä¸å£°æ˜ä¸ºé»˜è®¤è·¯ç”±ï¼Œä½†å£°æ˜è‹¥å¹²ä¸ªå°è·¯ç”±ä»¥è¦†ç›–æ‰€æœ‰åœ°å€ï¼ˆä¸ Surge Mac å¢å¼ºæ¨¡å¼è¡Œä¸ºç›¸åŒï¼‰ã€‚
# è¿™ç§é…ç½®ä¸‹ç”±äº VIF ä¸æ˜¯ä¸»ç½‘ç»œè®¾å¤‡æ— æ³•é…ç½®ç³»ç»Ÿä»£ç†ã€‚éƒ¨åˆ†åº”ç”¨åœ¨è¯¥æ¨¡å¼ä¸‹ä¼šè®¤ä¸º VPN æœªå¼€å¯ä»¥è§£å†³ç‰¹æ®Šå…¼å®¹æ€§é—®é¢˜ï¼Œå¦‚ HomeKit Security Camera
# æ‰€æœ‰å…¼å®¹æ¨¡å¼å‡ä¸æ¨èé•¿æœŸå¼€å¯ï¼Œä»…åº”ç”¨ä½œç‰¹å®šé—®é¢˜çš„ä¸´æ—¶è§£å†³ä½¿ç”¨ã€‚
# ####è­¦å‘Š#######
# âš ï¸ è¯·ä»…åœ¨æŒ‡å¼•ä¸‹ä½¿ç”¨ï¼Œå¼€å¯åéƒ¨åˆ†åŠŸèƒ½å¯èƒ½æ— æ³•ä½¿ç”¨ã€‚
compatibility-mode = 0
# FOR MAC
# å½“ Wi-Fi ä¸æ˜¯é¦–é€‰ç½‘ç»œæ—¶ SSID ç»„ç­–ç•¥ä½¿ç”¨é»˜è®¤ç­–ç•¥ï¼ˆä»… macOS ç‰ˆå¯ç”¨ï¼‰
# use-default-policy-if-wifi-not-primary = false
# macOS Only
# enhanced-mode-by-rule = false
# Network Framework
# network-framework = false
# DNSç›¸å…³è®¾ç½®
# ä¼ ç»Ÿ DNS æœåŠ¡å™¨è®¾ç½®
dns-server = 119.29.29.29, 223.5.5.5, system
# åŠ å¯† DNS æœåŠ¡å™¨è®¾ç½®
encrypted-dns-server = h3://223.5.5.5/dns-query
encrypted-dns-follow-outbound-mode = false
# encrypted-dns-server = https://dns.google/dns-query
# encrypted-dns-server = https://cloudflare-dns.com/dns-query
# encrypted-dns-server = https://dns.adguard.com/dns-query
# encrypted-dns-server = https://public.dns.iij.jp/dns-query
# å®éªŒæ€§ DNS ove QUIC æ”¯æŒ
encrypted-dns-skip-cert-verification = false
use-local-host-item-for-proxy = true
# ä½¿åŠ å¯† DNS è¯·æ±‚é€šè¿‡ä»£ç†ç­–ç•¥æ‰§è¡Œ
force-http-engine-hosts = *.ott.cibntv.net, 119.18.193.135, 122.14.246.33, 123.59.31.1, 175.102.178.52, 116.253.24.*, 124.193.*, 124.14*, 119.79*, 175.6.26.*, 211.162.*, 220.112.* 220.169.153.*
# è·³è¿‡è¯ä¹¦éªŒè¯
always-real-ip = *.lan, cable.auth.com, *.msftconnecttest.com, *.msftncsi.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, stun.*, localhost.*.qq.com, *.logon.battlenet.com.cn, *.logon.battle.net, *.blzstatic.cn, music.163.com, *.music.163.com, *.126.net, musicapi.taihe.com, music.taihe.com, songsearch.kugou.com, trackercdn.kugou.com, *.kuwo.cn, api-jooxtt.sanook.com, api.joox.com, joox.com, y.qq.com, *.y.qq.com, streamoc.music.tc.qq.com, mobileoc.music.tc.qq.com, isure.stream.qqmusic.qq.com, dl.stream.qqmusic.qq.com, aqqmusic.tc.qq.com, amobile.music.tc.qq.com, *.xiami.com, *.music.migu.cn, music.migu.cn, proxy.golang.org, *.mcdn.bilivideo.cn, *.cmpassport.com, id6.me, open.e.189.cn, mdn.open.wo.cn, auth.wosms.cn, *.jegotrip.com.cn, *.icitymobile.mobi, *.pingan.com.cn, *.cmbchina.com, pool.ntp.org, *.pool.ntp.org, ntp.*.com, time.*.com, ntp?.*.com, time?.*.com, time.*.gov, time.*.edu.cn, *.ntp.org.cn, PDC._msDCS.*.*, DC._msDCS.*.*, GC._msDCS.*.*, speedtest.cros.wr.pvp.net
# (macOS ç‰ˆæœ¬ä¸­ï¼Œå¦‚æœå¯ç”¨äº† Set as System Proxy, è¿™äº›å€¼ä¼šè¢«å†™å…¥åˆ°ç³»ç»Ÿç½‘ç»œä»£ç†è®¾ç½®.)
# ä» /etc/hosts ä¸­è¯»å– DNS è®°å½•ï¼ˆMACï¼‰
# read-etc-hosts = true
# å¯¹ä½¿ç”¨ä»£ç†çš„è¯·æ±‚å¼ºåˆ¶ä½¿ç”¨æœ¬åœ° DNS æ˜ å°„ç»“æœ
# é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ä½¿ç”¨ä»£ç†ç­–ç•¥æ—¶ï¼ŒDNS è§£ææ°¸è¿œåœ¨ä»£ç†æœåŠ¡å™¨è¿›è¡Œã€‚
# å¼€å¯è¯¥é€‰é¡¹åï¼Œå¯¹äºå­˜åœ¨äºæœ¬åœ° DNS æ˜ å°„ä¸­çš„åŸŸåï¼ŒSurge å°†ä½¿ç”¨æœ¬åœ°æ˜ å°„ç»“æœçš„ IP åœ°å€è¿›è¡Œä»£ç†è¯·æ±‚ï¼Œè€Œä¸å†ä½¿ç”¨åŸå§‹åŸŸåã€‚
# ä»…å¯¹ä½¿ç”¨äº† IP åœ°å€çš„æœ¬åœ°æ˜ å°„è®°å½•ç”Ÿæ•ˆã€‚
loglevel = notify
# æœ¬åœ° DNS æ˜ å°„
# è¯¥åŠŸèƒ½å’Œ /etc/hosts æ–‡ä»¶åŸºæœ¬ä¸€è‡´ã€‚
# æœ¬åœ° DNS æ˜ å°„ä½äº [Host] å­—æ®µä¸‹ï¼Œæ ¼å¼ä¸ºï¼šåŸŸå = IP åœ°å€
# é™¤äº†ç›´æ¥æŒ‡å®šä¸»æœºåæ‰€å¯¹åº”çš„ IP åœ°å€ï¼Œè¿˜æ”¯æŒæœ¬åœ°å€¼æŒ‡å®šåŸŸåã€å¯¹ç‰¹å®šåŸŸåè‡ªå®šä¹‰ç‰¹å®šçš„ DNS æœåŠ¡å™¨ã€‚
# ä»¥ä¸‹æ˜¯ç¤ºä¾‹ï¼š
# é€šé…ç¬¦
# *.example.com = 1.1.1.1
# é€šé…ç¬¦æ”¯æŒ * å’Œ ?
# æœ¬åœ°å€¼æŒ‡å®šåŸŸå
# example.com = www.example.com
# è¿™ç›¸å½“äº CNAME è®°å½•ã€‚
# ä½¿ç”¨ç‰¹å®šçš„ DNS æœåŠ¡å™¨
# å¦‚åŸŸå example.com åŠå…¶å­åŸŸåæŒ‡å®šä½¿ç”¨ DNS æœåŠ¡å™¨ 119.29.29.29 æ¥è§£æï¼š
# example.com = server:119.29.29.29
# *.example.com = server:119.29.29.29
# Surge è¿˜æ”¯æŒé…ç½®éƒ¨åˆ†åŸŸåå›é€€åˆ°ç³»ç»Ÿ DNS è§£æï¼š
# example.com = server:syslib
# è¿™å¯ç”¨äºè§£å†³ä¸€äº›å…¼å®¹æ€§é—®é¢˜ï¼Œæ¯”å¦‚ä¸€äº› VPN ä¼šåˆ©ç”¨ Split DNS æœºåˆ¶åœ¨ç³»ç»Ÿä¸­æ·»åŠ ç”¨äºå¤„ç†ç‰¹å®šåŸŸåçš„ DNS æœåŠ¡å™¨ï¼ŒSurge ç›®å‰è¿˜ä¸èƒ½æ”¯æŒè¿™ç§å¤æ‚é€»è¾‘ï¼Œå¯é€šè¿‡å¯¹ VPN ç›¸å…³åŸŸåé…ç½®å›é€€è§£å†³ã€‚
# TCP Force HTTP Hosts
# ä½¿ Surge å°† TCP è¿æ¥è§†ä¸º HTTP è¯·æ±‚ã€‚Surge HTTP å¼•æ“å°†å¤„ç†è¯·æ±‚ï¼Œå¹¶ä¸”æ‰€æœ‰é«˜çº§åŠŸèƒ½éƒ½å°†å¯ç”¨ï¼Œå¦‚æˆªå–ã€é‡å†™å’Œè„šæœ¬ã€‚
# æ”¯æŒé€šé…ç¬¦ * åŠ ?ï¼›
# ä½¿ç”¨å‰ç¼€ - æ’é™¤ä¸»æœºåï¼›
# é»˜è®¤æƒ…å†µä¸‹ï¼Œåªå¯¹ 80 ç«¯å£çš„è¯·æ±‚è¿›è¡Œå¤„ç†ï¼ˆä½¿ç”¨ example.com:443 æŒ‡å®šç«¯å£æˆ– example.com:0 è¡¨ç¤ºæ‰€æœ‰ç«¯å£ï¼‰ï¼›
# <ip-address> è¡¨ç¤ºåŒ¹é…æ‰€æœ‰ä¸»æœºåä¸º IP åœ°å€çš„è¿æ¥ï¼›
# <ipv4-address> è¡¨ç¤ºåŒ¹é…æ‰€æœ‰ä¸»æœºåä¸º IPv4 åœ°å€çš„è¿æ¥ï¼›
# <ipv6-address> è¡¨ç¤ºåŒ¹é…æ‰€æœ‰ä¸»æœºåä¸º IPv6 åœ°å€çš„è¿æ¥ï¼›
# ä¸‹é¢æ˜¯ä¸€äº›ç¤ºä¾‹ï¼š
# -*.apple.comï¼šæ’é™¤æ‰€æœ‰å‘å¾€ *.apple.com ä¸Šçš„ 80 ç«¯å£çš„è¯·æ±‚ï¼›
# www.google.comï¼šå¯¹ www.google.com ä¸Šçš„ 80 ç«¯å£çš„è¯·æ±‚å¼ºåˆ¶ä½¿ç”¨ HTTP å¤„ç†ï¼›
# www.google.com:8080ï¼šå¯¹ www.google.com ä¸Šçš„ 8080 ç«¯å£çš„è¯·æ±‚å¼ºåˆ¶ä½¿ç”¨ HTTP å¤„ç†ï¼›
# www.google.com:0ï¼šå¯¹ www.google.com ä¸Šçš„æ‰€æœ‰ç«¯å£çš„è¯·æ±‚å¼ºåˆ¶ä½¿ç”¨ HTTP å¤„ç†ï¼›
# *:0ï¼šå¯¹æ‰€æœ‰ä¸»æœºåä¸Šçš„æ‰€æœ‰ç«¯å£ä½¿ç”¨å¼ºåˆ¶ HTTP å¤„ç†ã€‚
# KOOWO - 119.18.193.135, 122.14.246.33, 123.59.31.1, 175.102.178.52
# TencentVideo/Youku/iQiyi - 116.253.24.*, 124.193.*, 124.14*, 119.79*, 175.6.26.*, 211.162.*, 220.112.* 220.169.153.*
exclude-simple-hostnames = true
# Always Real IP Hosts
# å½“ Surge VIF å¤„ç† DNS é—®é¢˜æ—¶ï¼Œæ­¤é€‰é¡¹è¦æ±‚ Surge è¿”å›ä¸€ä¸ªçœŸæ­£çš„ IP åœ°å€ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª Fake IPã€‚
# DNS æ•°æ®åŒ…å°†è¢«è½¬å‘åˆ°ä¸Šæ¸¸ DNS æœåŠ¡å™¨ã€‚
# ä¾‹å¦‚ç”±äºæ¸¸æˆä¸»æœºä¼šä½¿ç”¨ STUN æŠ€æœ¯è¿›è¡Œ NAT ç©¿é€ï¼Œéœ€è¦è¿›è¡Œä¸€äº›é¢å¤–çš„é…ç½®æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚
hijack-dns = 8.8.8.8:53, 1.1.1.1:53, 8.8.4.4:53
# VIF Excluded Routes
# Surge VIF åªèƒ½å¤„ç† TCP å’Œ UDP åè®®ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥ç»•è¿‡ç‰¹å®šçš„ IP èŒƒå›´ï¼Œå…è®¸æ‰€æœ‰æµé‡é€šè¿‡ã€‚
# âš ï¸ æ³¨æ„ï¼šæ­¤é€‰é¡¹ä»…é€‚ç”¨äº Surge VIFã€‚Surge ä»£ç†æœåŠ¡å™¨å¤„ç†çš„è¯·æ±‚ä¸å—å½±å“ã€‚å°†ã€Œskip-proxyã€å’Œã€Œtun-excluded-routesã€ç»„åˆèµ·æ¥ï¼Œä»¥ç¡®ä¿ç‰¹å®šçš„ HTTP æµé‡ç»•è¿‡ Surgeã€‚
# æ­¤é€‰é¡¹å¯èƒ½å¯¼è‡´ç³»ç»Ÿé”™è¯¯ ENOMEM (æ— æ³•åˆ†é…å†…å­˜)ã€‚è¿™çœ‹èµ·æ¥åƒæ˜¯ iOS ç³»ç»Ÿä¸­çš„ä¸€ä¸ª bugã€‚å¦‚æœå¯èƒ½ï¼Œè¯·ä¸è¦ä½¿ç”¨æ­¤é€‰é¡¹ã€‚
# tun-excluded-routes = 239.255.255.250/32
# VIF Included Routes
# é»˜è®¤æƒ…å†µä¸‹ï¼ŒSurge VIF æ¥å£ä¼šå£°æ˜è‡ªå·±æ˜¯é»˜è®¤è·¯ç”±ã€‚ä½†æ˜¯ï¼Œç”±äº Wi-Fi æ¥å£çš„è·¯ç”±è¾ƒå°ï¼Œæœ‰äº›æµé‡å¯èƒ½ä¸ä¼šé€šè¿‡ Surge VIF æ¥å£ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥æ·»åŠ ä¸€æ¡è¾ƒå°çš„è·¯ç”±ã€‚
# tun-included-routes = 192.168.1.12/32
# è·¯ç”±é˜²ç«å¢™
# åŒ…å«æ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚
# include-all-networks = false
# åŒ…å«æœ¬åœ°ç½‘ç»œè¯·æ±‚
# include-local-networks = false
# é«˜çº§
# æ—¥å¿—ç­‰çº§: warning, notify, info, verbose (é»˜è®¤å€¼: notify)
# âš ï¸ ä¸å»ºè®®åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­å¯ç”¨ verboseï¼Œå› ä¸ºè¿™ä¼šä¸¥é‡é™ä½æ€§èƒ½ã€‚
show-error-page-for-reject = true
# æ’é™¤ç®€å•ä¸»æœºå
udp-priority = true
# æ–°å¢å‚æ•° udp-policy-not-supported-behaviour å‚æ•°ç”¨äºæ§åˆ¶å½“ UDP æµé‡è¢«åŒ¹é…åˆ°ä¸€ä¸ªä¸æ”¯æŒ UDP è½¬å‘çš„ç­–ç•¥æ—¶çš„è¡Œä¸º
# DIRECTï¼šå›é€€åˆ° DIRECT ç­–ç•¥ï¼ˆé»˜è®¤ï¼‰
# REJECTï¼šå›é€€åˆ° REJECT ç­–ç•¥
# å¦‚æœä½ å‚ä¸ä¸€äº›å¯¹æˆ˜æ‰‹æ¸¸ï¼Œå»ºè®®å…³é—­æ­¤é€‰é¡¹ã€‚
# udp-policy-not-supported-behaviour = REJECT
# Hijack DNS
# é»˜è®¤æƒ…å†µä¸‹ï¼ŒSurge åªå¯¹å‘é€åˆ° Surge DNS åœ°å€(198.18.0.2)çš„ DNS æŸ¥è¯¢è¿”å› Fack IP åœ°å€ã€‚å‘é€åˆ°æ ‡å‡† DNS çš„æŸ¥è¯¢å°†è¢«è½¬å‘ã€‚
# å¦‚ Google ç³»æ™ºèƒ½ç¡¬ä»¶äº§å“ä¼šæ— è§† DHCP é…ç½®å¼ºè¡Œä½¿ç”¨ 8.8.8.8 å’Œ 8.8.4.4ï¼Œéœ€è¦é…ç½® Surge å¼ºè¡ŒåŠ«æŒæ‰å¯ä»¥æ­£å¸¸å·¥ä½œã€‚
# å¦å¤–è¿˜å¯ä»¥ä½¿ç”¨ hijack-dns = *:53 æ¥åŠ«æŒæ‰€æœ‰çš„ DNS æŸ¥è¯¢ã€‚
# Show Reject Error Page
# å½“é‡åˆ° REJECT ç­–ç•¥æ—¶æ˜¾ç¤ºé”™è¯¯é¡µ
# å®éªŒæ€§
# å¼€å¯å Surge åœ¨åˆ‡æ¢ç½‘ç»œåä¸å†é‡æ–°è¿›è¡Œ VPN é…ç½®ã€‚
# å…ˆå‰ç‰ˆæœ¬æµ‹è¯•ä¸­ä½¿ç”¨è¯¥é€»è¾‘åéƒ¨åˆ†ç”¨æˆ·ä¼šé‡åˆ°é—®é¢˜ï¼Œå¦‚äº§ç”Ÿå¾ªç¯è¯·æ±‚ã€‚è¯·è‡ªè¡Œæµ‹è¯•æ˜¯å¦åº”å¼€å¯è¯¥åŠŸèƒ½
# fast-switch = true
# å¼€å¯åä¼šæé«˜å¤„ç† UDP æµé‡çš„ä¼˜å…ˆçº§ï¼Œå½“ç³»ç»Ÿè´Ÿè½½é«˜æ—¶ä¼šæœ‰æ¯”è¾ƒæ˜æ˜¾çš„ä½œç”¨ (å¦‚é«˜æ€§èƒ½è”æœºæ¸¸æˆ)

[Replica]
# ---(å®éªŒæ€§åŠŸèƒ½)---
# 0 ä¸ºå…³é—­ï¼Œ1 ä¸ºå¼€å¯
# éšè—æ‰€æœ‰å‘å¾€ *.Apple.com å’Œ *.icloud.com çš„è¯·æ±‚
# ï¼ˆè¯¥é€‰é¡¹åªæ˜¯åœ¨æŠ“å–ç»“æœä¸­éšè—äº†è¯·æ±‚ï¼‰
hide-apple-request = 1
# éšè— Crashlytics è¯·æ±‚
hide-crash-reporter-request = 1
# éšè— UDP ä¼šè¯
hide-udp = 0
# å…³é”®è¯è¿‡æ»¤å™¨
# noneï¼ˆå…³é—­å…³é”®è¯è¿‡æ»¤å™¨ï¼‰ / whitelistï¼ˆblacklistï¼ˆä»…è®°å½•åŒ…å«å…³é”®å­—çš„è¯·æ±‚ï¼‰ï¼‰ / blacklistï¼ˆä»…è®°å½•ä¸åŒ…å«å…³é”®å­—çš„è¯·æ±‚ï¼‰ / patternï¼ˆåŒ¹é…é€šé…ç¬¦çš„è¯·æ±‚ï¼‰
keyword-filter-type = none
# å…³é”®è¯
# keyword-filter = (null)
# ------
# è¯¥æ®µå®šä¹‰å¯ç”¨çš„ä»£ç†ç­–ç•¥
# é’ˆå¯¹æ‰€æœ‰ç±»å‹ä»£ç†çš„é€‰é¡¹:
# interface: å¯é€‰ (é»˜è®¤å€¼: null)
# å¼ºåˆ¶ä½¿ç”¨ç‰¹å®šçš„å‡ºå£åœ°å€æˆ–ç½‘ç»œè®¾å¤‡ (ä»… macOS ç‰ˆå¯ç”¨)
# ä¾‹å¦‚: ProxyHTTP = http, 1.2.3.4, 443, username, password, interface = en2
# en1 = direct, interface = en1
# é’ˆå¯¹å¯ç”¨äº† TLS çš„ä»£ç†çš„é€‰é¡¹:
# skip-common-name-verify: "true" æˆ– "false" (é»˜è®¤å€¼: false)
# å¦‚æœå¯åŠ¨è¯¥é€‰æ‹©, Surge ä¸ä¼šæ ¡éªŒè¯ä¹¦åæ˜¯å¦ç¬¦åˆ
keyword-filter = *
# å­ç½‘ç›¸å…³è®¾ç½®å…¶å®åŒæ—¶æ¶‰åŠåˆ°äº†è§„åˆ™å’Œç­–ç•¥ç»„æ‰€ä»¥å•ç‹¬æ‘˜å‡ºæ¥äº†ã€‚
# å­ç½‘è®¾ç½®éƒ¨åˆ†

[Proxy]
# å†™æ³•æ˜¯ ç­–ç•¥å = ä»£ç†ç±»å‹,ä»£ç†åœ°å€ï¼Œç«¯å£å·ï¼Œç”¨æˆ·åï¼Œå¯†ç 
# ä¸åŒçš„ç±»å‹å¡«å†™çš„å…·ä½“é¡¹ç›®ä¼šæœ‰å·®å¼‚ï¼Œå»ºè®®åœ¨ UI ç•Œé¢ä¸­å¡«å†™
# ç­–ç•¥åä¸å¯é‡å¤ï¼Œç­–ç•¥åé¡»å…ˆå®šä¹‰æ‰èƒ½åœ¨å…¶å®ƒéƒ¨åˆ†å¼•ç”¨
# Proxy01 = https,adc-us.com,443,username = ç”¨æˆ·å,password = å¯†ç 
# Proxy02 = ss, abc-kt.com, 443, encrypt-method = rc4-md5, password = å¯†ç 
# Proxy03 = socks5, abc-cn.com, 443, username = ç”¨æˆ·å, password = å¯†ç 
# ä»£ç†é“¾ Proxy chainï¼šå¯ä»¥é€šè¿‡ä¸€ä¸ªä»£ç†è·³æ¿ä½¿ç”¨å¦ä¸€ä¸ªä»£ç†ï¼Œå¯ä»¥æ— é™åµŒå¥—ä½¿ç”¨ã€‚
# ProxyB = trojan, example.com, 443, password=password1, skip-cert-verify=true, underlying-proxy=ProxyA/Proxies
# å¦‚ä¸Šç¤ºä¾‹ï¼Œåœ¨ä½¿ç”¨ ServerB æ—¶æ˜¯é€šè¿‡ ServerA åˆ° ServerBï¼š
# Surge <--> ProxyA/Proxies <--> ProxyB <--> Internet
# Proxy = select, Auto, Proxy01 , Proxy02, Proxy03
# å†…ç½®ç­–ç•¥
# 1.DIRECT è¡¨ç¤ºå°†è¯¥è¯·æ±‚ç›´æ¥å‘å¾€ç›®æ ‡æœåŠ¡å™¨
# 2.REJECT è¡¨ç¤ºæ‹’ç»è¯¥è¯·æ±‚ï¼Œå½“è¿æ¥ç±»å‹ä¸º HTTP æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ªé”™è¯¯é¡µé¢ã€‚ï¼ˆè¯¥è¡Œä¸ºå¯è¢« show-error-page-for-reject å‚æ•°æ§åˆ¶ï¼‰
# 3.REJECT-TINYGIF è¡¨ç¤ºæ‹’ç»è¯¥è¯·æ±‚ï¼Œå½“è¿æ¥ç±»å‹ä¸º HTTP æ—¶ï¼Œè¿”å›ä¸€ä¸ª 1px çš„ GIF å›¾ç‰‡å“åº”ã€‚è‹¥ä¸ºå…¶ä»–ç±»å‹è¿æ¥åˆ™ç›´æ¥æ–­å¼€ã€‚è¯¥ç­–ç•¥ä¸»è¦ç”¨äº Web å¹¿å‘Šå±è”½ã€‚
# 4.REJECT-DROP è¡¨ç¤ºæ‹’ç»è¯¥è¯·æ±‚ï¼Œä¸ REJECT ä¸åŒçš„æ˜¯ï¼Œè¯¥ç­–ç•¥å°†é™é»˜æŠ›å¼ƒè¯·æ±‚ã€‚å› ä¸ºéƒ¨åˆ†ç¨‹åºæœ‰ç€ååˆ†æš´åŠ›çš„é‡è¯•é€»è¾‘ï¼Œè¿æ¥å¤±è´¥åä¼šç«‹åˆ»è¿›è¡Œé‡è¯•ï¼Œå¯¼è‡´è¯·æ±‚é£æš´ã€‚å¦‚æœå‘å¾€æŸä¸»æœºåçš„è¯·æ±‚çŸ­æ—¶é—´å†…å¤§é‡è§¦å‘ REJECT/REJECT-TINYGIF ç­–ç•¥ï¼ˆå½“å‰ç‰ˆæœ¬çš„é˜ˆå€¼ä¸º 30 ç§’å†… 10 æ¬¡ï¼‰ï¼Œä¸ºäº†é¿å…äº§ç”Ÿå¤§é‡èµ„æºæµªè´¹ï¼ŒSurge å°†è‡ªåŠ¨å‡çº§ç­–ç•¥ä¸º REJECT-DROP ç­–ç•¥ã€‚
# 5.REJECT-NO-DROP è¡¨ç¤ºä¸ä½¿ç”¨é»˜è®¤çš„è‡ªåŠ¨ä¸¢åŒ…é€»è¾‘ï¼Œè¿™æ · Surge æ¯æ¬¡éƒ½ä¼šè¿”å› ICMP Port Unreachableï¼Œåº”ç”¨ä¼šç«‹åˆ»å›é€€è€Œä¸æ˜¯ç­‰è¶…æ—¶ã€‚
# 6.CELLULAR è¡¨ç¤ºä¼˜å…ˆä½¿ç”¨æ•°æ®ç½‘ç»œï¼›
# 7.CELLULAR-ONLY è¡¨ç¤ºä»…ä½¿ç”¨æ•°æ®ç½‘ç»œï¼›
# 8.HYBRID è¡¨ç¤ºå°è¯•å¹¶å‘ä½¿ç”¨ Wi-Fi å’Œæ•°æ®ç½‘ç»œå»ºç«‹è¿æ¥ï¼Œä»…å½“æ··åˆç½‘ç»œå¼€å…³æœªå¼€å¯æ—¶æœ‰æ„ä¹‰ã€‚
# 9.NO-HYBRID è¡¨ç¤ºå½“ Wi-Fiå¯ç”¨æ—¶æ°¸ä¸å°è¯•æ•°æ®ç½‘ç»œï¼Œä»…å½“æ··åˆç½‘ç»œæˆ– i-Fi åŠ©åŠ›é€‰é¡¹å¼€å¯æ—¶æœ‰æ„ä¹‰ã€‚
# - æ–°å¢ IPv4 & IPv6 åå¥½å‚æ•°ï¼Œå¯¹äºæ‰€æœ‰ç­–ç•¥ï¼Œå¯é™„å¸¦å‚æ•° ip-version=ï¼Œå¯é€‰å‚æ•°æœ‰ï¼š
# * dualï¼šé»˜è®¤è¡Œä¸ºï¼Œåœ¨åŒæ ˆç½‘ç»œä¸Šå°†å¹¶å‘ä½¿ç”¨ v4 å’Œ v6 åœ°å€å¹¶é€‰å–æœ€å¿«é€Ÿçš„ç»“æœã€‚
# * prefer-v4ï¼šè‹¥DNSè§£æè·å¾—äº† A ä¸ AAAA è®°å½•ï¼Œä¼˜å…ˆä½¿ç”¨ A è®°å½•ï¼Œå¦åˆ™ä½¿ç”¨ AAAA è®°å½•ã€‚
# * prefer-v6ï¼šè‹¥DNSè§£æè·å¾—äº† A ä¸ AAAA è®°å½•ï¼Œä¼˜å…ˆä½¿ç”¨ AAAA è®°å½•ï¼Œå¦åˆ™ä½¿ç”¨ A è®°å½•ã€‚
# * v4-onlyï¼šä»…ä½¿ç”¨ A è®°å½•ï¼Œè‹¥æœªè·å¾—Aè®°å½•åˆ™å¤±è´¥ã€‚
# * v6-onlyï¼šä»…ä½¿ç”¨ AAAA è®°å½•ï¼Œè‹¥æœªè·å¾— AAAA è®°å½•åˆ™å¤±è´¥ã€‚
# å¯é…åˆ direct ç±»å‹ç­–ç•¥ä½¿ç”¨ï¼Œå¦‚ï¼šIPV6-ONLY = direct, ip-version=v6-only
# DIRECT = direct, ip-version=prefer-v4
# HYBRID = direct, hybrid=true, ip-version=dual
Warp+GSC = wireguard, section-name=WGgoGetSomeCats, test-url=http://cp.cloudflare.com/generate_204
WARP+GSCats = wireguard, section-name=GetSomeCats, test-url=http://cp.cloudflare.com/generate_204

[Proxy Group]
# æœºåœºä¿¡æ¯ï¼ˆencodeåœ°å€é“¾æ¥: https://www.urlencoder.orgï¼‰
# è¯¥æ®µå®šä¹‰å¯ç”¨çš„ç­–ç•¥ç»„
# Surge æä¾›å¤šç§ä¸åŒç±»å‹çš„ç­–ç•¥ç»„ä»¥æ»¡è¶³å„ç§åœºæ™¯çš„ä¸åŒéœ€æ±‚ã€‚
# ã€Œä»£ç†ç­–ç•¥ã€é…ç½®åœ¨é…ç½®æ–‡ä»¶çš„ [Proxy Group] ä¸‹é¢
716, [2023/2/19 10:13]
# æœ‰ 5 ç§ç­–ç•¥ç»„ç±»å‹: "select", "url-test"ï¼Œ"fallback"ï¼Œ"ssid" å’Œ "load-balance"
# select: å…·ä½“å“ªä¸ªå­ç­–ç•¥å°†è¢«ä½¿ç”¨ï¼Œç”±ç”¨æˆ·ç•Œé¢ä¸Šè¿›è¡Œé€‰æ‹©ã€‚
# url-test: é€šè¿‡æµ‹è¯•åˆ°æŸä¸€ä¸ª URL çš„è®¿é—®ç¡®å®šå»¶è¿Ÿï¼Œå¹¶è‡ªåŠ¨é€‰æ‹©å»¶è¿Ÿæœ€ä½çš„ç­–ç•¥ã€‚
# é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨ [General] ä¸‹çš„ proxy-test-url è®¾ç½®çš„ URL è¿›è¡Œè®¾ç½®ï¼ŒSurge å°†å‘è¯¥ URL å‘é€ä¸€ä¸ª HTTP HEAD è¯·æ±‚ã€‚æµ‹è¯•åªå…³å¿ƒæ˜¯å¦æ”¶åˆ°äº†è¿”å›æ•°æ®ï¼Œå¹¶ä¸å…³å¿ƒæ•°æ®å†…å®¹ã€‚ä»…æ”¯æŒ http:// åè®®ã€‚
# å¦‚æƒ³è¦å¯¹æŒ‡å®šç­–ç•¥ä½¿ç”¨æŒ‡å®š URL å¯ä»¥åœ¨è¯¥ç­–ç•¥ä½¿ç”¨ test-url å‚æ•°è®¾ç½®ï¼ˆå¦‚ä¸Šç¤ºä¾‹ï¼‰ã€‚
# å‚æ•°:
# url: å¿…å¡«
# æµ‹è¯•æ—¶ç”¨åˆ°çš„ç›®æ ‡ URL.
# interval: å¯é€‰, ç§’ (é»˜è®¤å€¼: 600s)
# æ¯æ¬¡æµ‹è¯•çš„é—´éš”æ—¶é—´ã€‚æŒ‡å®šåœ¨å¤šé•¿æ—¶é—´åï¼Œä¸Šæ¬¡çš„æµ‹è¯•ç»“æœå°†è¢«æŠ›å¼ƒã€‚
# æ‰€æœ‰ç±» url-test ç»„çš„æµ‹è¯•æ—¶æœºä¸ºï¼š
# é¦–æ¬¡ä½¿ç”¨æ—¶è¿›è¡Œæµ‹è¯•ï¼›
# åç»­ä½¿ç”¨è¯¥ç­–ç•¥ç»„æ—¶ï¼Œå¦‚æœä¸Šæ¬¡æµ‹è¯•çš„æ—¶é—´é—´éš”å·²å¤§äº interval è®¾ç½®æ—¶é—´ï¼Œåˆ™å†æ¬¡è§¦å‘æµ‹è¯•ï¼›
# å½“ç›®å‰é€‰ä¸­ç­–ç•¥äº§ç”Ÿä¸å¯æ¢å¤æ€§é”™è¯¯æ—¶ï¼Œç›´æ¥è§¦å‘æµ‹è¯•ã€‚
# ç½‘ç»œåˆ‡æ¢åï¼Œå°†æ¸…ç†ä¹‹å‰çš„æµ‹è¯•ç»“æœï¼Œå½“ç­–ç•¥ç»„è¢«ä½¿ç”¨æ—¶è§¦å‘é¦–æ¬¡æµ‹è¯•ã€‚
# tolerance: å¯é€‰, æ¯«ç§’ (é»˜è®¤å€¼: 100ms)
# å®¹å¿åº¦(æ¯«ç§’)ï¼Œä»…å½“æ–°æµ‹è¯•çš„è·èƒœç­–ç•¥è¶…è¿‡æ—§è·èƒœç­–ç•¥åŠ ä¸Šå®¹å¿åº¦åå†è¿›è¡Œåˆ‡æ¢ã€‚å¦‚æœæŸå‡ ä¸ªç­–ç•¥æµ‹è¯•ç»“æœç›¸å·®ä¸å¤§ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´åœ¨è¿™å‡ ä¸ªç­–ç•¥ä¸­é¢‘ç¹åˆ‡æ¢ï¼Œå¦‚æœç­–ç•¥çš„ä»£ç†æœåŠ¡å™¨çš„å‡ºå£ IP ä¸åŒï¼Œå¯èƒ½ä¼šè§¦å‘ç›®æ ‡ç½‘ç«™çš„é£é™©æ§åˆ¶ã€‚æ‰€ä»¥åŠ å…¥äº†å®¹å¿åº¦è®¾è®¡ï¼Œä»…å½“æ–°ä¸€æ¬¡çš„æµ‹è¯•ç»“æœä¸­ï¼Œæœ€ä½³ç­–ç•¥æ¯”åŸé€‰ä¸­ç­–ç•¥çš„å»¶è¿Ÿå·®å¤§äºå®¹å¿åº¦æ—¶ï¼Œæ‰ä¼šåˆ‡æ¢è‡³æ–°çš„ç­–ç•¥ã€‚
# timeout: å¯é€‰, ç§’ (é»˜è®¤å€¼: 5s)
# æµ‹è¯•çš„æœ€é•¿ç­‰å¾…æ—¶é—´ï¼Œå¦‚æœæŸç­–ç•¥åœ¨è¯¥æ—¶é—´åä¾ç„¶æ²¡æœ‰å®Œæˆï¼Œæ”¾å¼ƒè¯¥ç­–ç•¥ã€‚
# evaluate-before-use: å¯é€‰ï¼Œtrue or false
# é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨é¦–æ¬¡ä½¿ç”¨ç­–ç•¥ç»„æ—¶å°†ç›´æ¥ä½¿ç”¨å­ç­–ç•¥ä¸­çš„ç¬¬ä¸€ä¸ªç­–ç•¥ï¼ŒåŒæ—¶è§¦å‘å»¶è¿Ÿæµ‹è¯•ã€‚å¦‚æœé…ç½®äº† evaluate-before-use=trueï¼Œé‚£ä¹ˆé¦–æ¬¡ä½¿ç”¨æ—¶å°†ç­‰å¾…æµ‹è¯•å®Œæ¯•åé€‰æ‹©æœ€ä½³ç­–ç•¥
# URL å¯ç”¨æ€§è‡ªåŠ¨æµ‹è¯•ç­–ç•¥ç»„ï¼šFallback
# fallback: å…·ä½“å“ªä¸ªå­ç­–ç•¥å°†è¢«ä½¿ç”¨ï¼Œé€šè¿‡æµ‹è¯•åˆ°å…·ä½“ URL çš„å¯ç”¨æ€§å†³å®š
# ä¸ url-test ç»„åŸºæœ¬ä¸€è‡´ï¼ŒåŒºåˆ«æ˜¯åªå…³å¿ƒå­ç­–ç•¥æ˜¯å¦å¯ç”¨è€Œä¸å…³å¿ƒå…·ä½“å»¶è¿Ÿï¼Œç„¶åä»å¯ç”¨ç­–ç•¥ä¸­é€‰æ‹©é å‰çš„ç­–ç•¥ã€‚å¯ä»¥é€šè¿‡è°ƒå° timeout å‚æ•°å°†ç¼“æ…¢çº¿è·¯ä¹Ÿæ ‡è®°ä¸ºä¸å¯ç”¨ã€‚è¯¥ç±»å‹æ²¡æœ‰ tolerance å‚æ•°ã€‚
# ssid: å…·ä½“å“ªä¸ªå­ç­–ç•¥å°†è¢«ä½¿ç”¨ï¼Œæ ¹æ® Wi-FI çš„ SSID å†³å®š
# å‚æ•°:
# default: å¿…å¡«
# é»˜è®¤ç­–ç•¥ã€‚
# cellular: å¯é€‰
# åœ¨æ•°æ®ç½‘ç»œä¸‹çš„ç­–ç•¥ã€‚ è‹¥ä¸å¡«ï¼Œé‚£ä¹ˆé»˜è®¤ç­–ç•¥å°†è¢«ä½¿ç”¨ã€‚
# load-balance ç­–ç•¥ç»„
# è´Ÿè½½å‡è¡¡ç»„ï¼Œéšæœºä»å­ç­–ç•¥ä¸­é€‰å–ä¸€ä¸ªç­–ç•¥ä½¿ç”¨ã€‚
# å½“é…ç½®äº† url å‚æ•°æ—¶ï¼Œä¼šæŒ‰ç…§ fallback ç»„çš„è¡Œä¸ºè¿›è¡Œå¯ç”¨æ€§æ£€æŸ¥ï¼Œç„¶åä»…ä»å¯ç”¨çš„å­ç­–ç•¥ä¸­éšæœºé€‰å–ã€‚
# é™¤ urlã€timeoutã€intervalå¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå‚æ•°ï¼š
# â€¢ persistentï¼šå½“ persistent=true æ—¶ï¼Œå¯¹äºåŒä¸€ç›®æ ‡ä¸»æœºåï¼Œå°†å°½é‡ä½¿ç”¨åŒä¸€ä¸ªç­–ç•¥ã€‚é¿å…å› å‡ºå£ IP ä¸åŒè€Œè§¦å‘ç›®æ ‡ç½‘ç«™çš„é£é™©æ§åˆ¶ã€‚ä½†å½“å¯ç”¨æ€§æ”¹å˜æ—¶å¯èƒ½å¯¼è‡´ç­–ç•¥å˜åŒ–ã€‚
# hidden=1ï¼Œéšè—ç­–ç•¥ç»„
# ç¦ç”¨ç»„ç­–ç•¥å˜åŒ–é€šçŸ¥
# è‹¥è¦ç¦ç”¨ç»„ç­–ç•¥å˜åŒ–çš„é€šçŸ¥ï¼Œå¯ä»¥åœ¨è¯¥ç­–ç•¥ç»„åŠ ä¸Š no-alert=true
# å¤–éƒ¨ä»£ç†åˆ—è¡¨
# ä½¿ç”¨ç”±ä»£ç†æœåŠ¡å•†æä¾›çš„ä»£ç†åˆ—è¡¨ï¼Œåˆ—è¡¨æ–‡ä»¶ä¸ºä¸€ä¸ªçº¯æ–‡æœ¬ï¼Œæ¯ä¸€è¡ŒåŒ…å«ä¸€ä¸ªä»£ç†å£°æ˜ã€‚
# ä¹Ÿå°±æ˜¯è¯´å¯ä»¥å°†å¦‚ä¸‹åˆ—ç¤ºä¾‹çš„ä»£ç†å£°æ˜å­˜æˆä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼š
# Server1 = socks5, 192.168.1.2, 1080
# Server2 = socks5, 192.168.1.3, 1080
# Server3 = socks5, 192.168.1.4, 1080
# ç„¶ååœ¨ç­–ç•¥ç»„ä¸­ä½¿ç”¨ï¼š
# Proxy = select, policy-path=https://www.example.com/Proxy.list
# é™¤äº† select ç­–ç•¥ç»„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ url-test ç­‰ç­–ç•¥ç»„è¿›è¡Œè‡ªåŠ¨é€‰æ‹©ã€‚
# å¤–éƒ¨ä»£ç†åˆ—è¡¨è¿˜æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼š
# 1.è‡ªåŠ¨æ›´æ–°é—´éš”
# å¯ä»¥ä½¿ç”¨ update-interval æ¥è®¾ç½®æ›´æ–°é—´éš”ï¼Œå•ä½æ˜¯ç§’ï¼Œé»˜è®¤æ˜¯ 24 å°æ—¶ã€‚
# Proxy = select, policy-path=https://www.example.com/Proxy.list, update-interval=86400
# 2.ç­–ç•¥æ­£åˆ™è¿‡æ»¤å™¨
# å¯ä»¥ä½¿ç”¨ policy-regex-filter é€‰é¡¹æ¥è¿‡æ»¤ä»£ç†åˆ—è¡¨ï¼Œè¿™æ˜¯ä¸€ä¸ªå¯é€‰é¡¹ï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…
# Proxy = select, policy-path=https://www.example.com/Proxy.list, update-interval=86400, policy-regex-filter=US
# å¦‚ä¸Šè¿°ç¤ºä¾‹å¯ä»¥åªä¿ç•™ã€Œå¤–éƒ¨ä»£ç†åˆ—è¡¨ã€ä¸­ä»£ç†åç§°å¸¦æœ‰ã€ŒUSã€çš„ä»£ç†æœåŠ¡å™¨ã€‚
# åŒ…å«æœ¬åœ°æˆ–å…¶ä»–ç­–ç•¥ç»„çš„ç­–ç•¥
# è¯¥åŠŸèƒ½ä¸»è¦ä¸ºé’ˆå¯¹ç­–ç•¥ç»„çš„ä¸¤ä¸ªå‚æ•°ï¼šinclude-all-proxies åŠ include-other-groupï¼Œå¯ä¸ policy-regex-filter ä¸€èµ·ä½¿ç”¨ã€‚
# 1.å…ˆè¯´ include-all-proxiesï¼Œå®ƒç”¨äºæ˜¯å¦åŒ…å« [Proxy] ä¸­çš„ä»£ç†ç­–ç•¥ï¼š
# [Proxy]
# Server1 = socks5, 192.168.1.2, 1080
# Server2 = socks5, 192.168.1.3, 1080
# Server3 = socks5, 192.168.1.4, 1080
# [Proxy Group]
# PROXY = select, include-all-proxies=true
# [Rule]
# GEOIP,CN,DIRECT
# FINAL,PROXY,dns-failed
# å¦‚ä¸Šç¤ºä¾‹ï¼Œå½“ include-all-proxies è®¾ç½®ä¸º true æˆ– 1 æ—¶ï¼ŒPROXY ç­–ç•¥å°†åŒ…å« [Proxy] ä¸‹çš„ä¸‰ä¸ªç­–ç•¥ (ç­‰åŒäº PROXY = select, Server1, Server2, Server3)ï¼Œä½¿ç”¨ include-all-proxies åå°±å¯ä»¥ä¸ç”¨æ‰‹åŠ¨ä¸€ä¸ªä¸ªæ·»åŠ ç­–ç•¥ã€‚
# 2.è€Œinclude-other-group ç”¨äºè®¾ç½®è¯¥ç­–ç•¥ç»„æ˜¯å¦åŒ…å«å…¶ä»–ç­–ç•¥ç»„çš„ç­–ç•¥ï¼Œå‡è®¾æœ‰å¤šä¸ªè®¢é˜…æœåŠ¡å™¨åˆ—è¡¨çš„ç­–ç•¥ç»„ï¼š
# [Proxy Group]
# PROXY = select, A, B
# A = select, policy-path=https://www.example-a.com/Proxy.list
# B = select, policy-path=https://www.example-b.com/Proxy.list
# æŒ‰å¦‚ä¸Šä¼ ç»Ÿçš„åšæ³•ï¼Œåœ¨é€‰æ‹©ä»£ç†æœåŠ¡æ—¶ï¼Œå…ˆåœ¨å›¾å½¢èœå•ä¸Šçš„ PROXY ç­–ç•¥ç»„ä¸‹é€‰æ‹© A åˆ—è¡¨æˆ– B åˆ—è¡¨ï¼Œå†åˆ° A æˆ– B åˆ—è¡¨ä¸‹é€‰æ‹©å…·ä½“å“ªä¸€ä¸ªæœåŠ¡å™¨ã€‚
# é‚£ä¹ˆå¦‚æœæƒ³è¦åœ¨ PROXY ç­–ç•¥ç»„ä¸‹é€‰æ‹©ç›´æ¥é€‰æ‹© A ä¸ B åˆ—è¡¨é‡Œçš„æ‰€æœ‰æœåŠ¡å™¨ï¼Œå°±å¯ä»¥ä½¿ç”¨ include-other-group å‚æ•°ï¼š
# [Proxy Group]
# # ä½¿ç”¨ include-other-group ç›´æ¥ä½¿ç”¨ä½¿ç”¨æŸä¸ªç­–ç•¥ç»„å†…çš„æœåŠ¡å™¨èŠ‚ç‚¹
# PROXY = select, include-other-group="A,B"
# # ä½¿ç”¨ hidden=true éšè—æ‰è¯¥ç­–ç•¥ç»„
# A = select, policy-path=https://www.example-a.com/Proxy.list, hidden=true
# B = select, policy-path=https://www.example-b.com/Proxy.list, hidden=true
# å¦‚ä¸Šå°±å¯ä»¥åœ¨ PROXY ç›´æ¥é€‰æ‹© A ä¸ B é‡Œçš„æ‰€æœ‰æœåŠ¡å™¨äº†ã€‚
# ä»¥ä¸‹æ˜¯subnetçš„ä¸€ä¸ªç¤ºä¾‹ï¼š
# ä»¥ä»£ç†æœåŠ¡å™¨çš„é€‰æ‹©æ¨¡å¼å®ç°å¹¿å‘Šçš„é€šè¿‡é€‰æ‹©
# AdBlock = select, Ad-GIF,Ad-Block,Ad-Pass
# åœºæ™¯é€‰æ‹©æ¨¡å¼
# ç¼ºçœèµ° Autoï¼›èœ‚çªç½‘ç»œèµ° Proxy01ï¼›
# æ¥å…¥ Wi-Fi æ—¶èµ° Autoï¼ˆSSIDNAME æ”¹æˆéœ€è¦åˆ¤æ–­çš„ Wi-Fi çš„åç§°ï¼‰
# Scene = ssid, default = Auto, cellular = Proxy01, "SSIDNAME" = Auto
# è‡ªåŠ¨é€‰æ‹©ä»£ç†
# Auto = fallback, Proxy01, Proxy02, Proxy03, url = http://www.bing.com/
# Video ç­–ç•¥ç¾¤ç»„çš„å†™æ³•ï¼Œå°†ç”¨äºè§†é¢‘æœåŠ¡çš„ä»£ç†æ”¾åœ¨ä¸€ä¸ªç¾¤ç»„ï¼ˆNetflixä¼šåˆ¤æ–­ä»£ç†çš„åœ°åŸŸï¼‰
# Video = url-test, policy-path=groupHK.list, url = http://www.bing.com/
# Video ç­–ç•¥ç»„çš„ç®€å•å†™æ³•ï¼Œä¸¤ç§å†™æ³•å¯é€‰ä¸€ä¸ª
# Video = url-test, Proxy02, Proxy03, url = http://www.bing.com
# èŠ‚ç‚¹ç­›é€‰çš„æ­£åˆ™
# æ­£åˆ™è¡¨è¾¾å¼ç­›é€‰èŠ‚ç‚¹ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰
# â¤ï¸ æ­£åˆ™è¯´æ˜
# å¦‚ä¸‹ï¼ŒåŒ¹é…ä»¥â€œhttpâ€å¼€å¤´çš„æ•´è¡Œå­—ç¬¦ä¸²
# ^http.*$
# å¦‚ä¸‹åŒ¹é…ä»»æ„å«httpçš„æ•´è¡Œ
# ^.*http.*$
# ä»¥ä¸Šï¼Œ^ ç¬¦å·çš„æ„æ€ä¸ºä»è¡Œé¦–ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹åŒ¹é…ï¼›è€Œ .*$ ç¬¦å·åˆ™è¡¨ç¤ºåŒ¹é…æ•´è¡Œï¼Œä¸å«åŒå¼•å·ã€‚
# â¤ï¸ æ­£åˆ™ä¾‹å­
# Aæˆ–è€…B
# ^.*(A|B)
# æœ‰Aæœ‰B
# (A.*B|B.*A)
# ä¸å«A
# ^(?!.*A)
# æœ‰Aä½†ä¸å«B
# ^(?!.*?B).*A
# Aå’ŒBåŒæ—¶æœ‰
# (?=.*A)(?=.*B)
# åŒ…å«Aã€Bã€Cçš„åŒæ—¶æ’é™¤Aã€Bã€Cå’ŒDã€Eã€Få„è‡ªäº’ç›¸ç»„åˆçš„æƒ…å†µ
# ^(?=.*A|B|C)(?!.*D|E|F).*$
# â¤ï¸ Netflix ä¸“ç”¨åœ°åŒºèŠ‚ç‚¹
# Netflix æ–°åŠ å¡èŠ‚ç‚¹
# ^(?=.*((?i)Netflix|NF|åŸç”Ÿ|è§£é”))(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(?i)SG|Singapore))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# Netflix é¦™æ¸¯å¡èŠ‚ç‚¹
# ^(?=.*((?i)Netflix|NF|åŸç”Ÿ|è§£é”))(?=.*((?i)ğŸ‡­ğŸ‡°|æ¸¯|(?i)HK|Hong))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# Netflix å°æ¹¾èŠ‚ç‚¹
# ^(?=.*((?i)Netflix|NF|åŸç”Ÿ|è§£é”))(?=.*((?i)ğŸ‡¹ğŸ‡¼|å°|(?i)TW|Tai))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# Netflix æ—¥æœ¬èŠ‚ç‚¹
# ^(?=.*((?i)Netflix|NF|åŸç”Ÿ|è§£é”))(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(?i)JP|Japan))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# Netflix éŸ©å›½èŠ‚ç‚¹
# ^(?=.*((?i)Netflix|NF|åŸç”Ÿ|è§£é”))(?=.*((?i)ğŸ‡°ğŸ‡·|éŸ©|éŸ“|é¦–å°”|(?i)KR|Korea))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# Netflix ç¾å›½èŠ‚ç‚¹
# ^(?=.*((?i)Netflix|NF|åŸç”Ÿ|è§£é”))(?=.*((?i)ğŸ‡ºğŸ‡¸ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# â¤ï¸ åœ°åŒºèŠ‚ç‚¹
# æ¸¸æˆèŠ‚ç‚¹
# ^(?=.*((?i)æ¸¸æˆ|GAME))(?!.*((?i)å›å›½|æ ¡å›­|æ•™è‚²|ä¹…è™š|IPV6)).*$
# å›å›½èŠ‚ç‚¹
# ^(?=.*(å›å›½))(?!.*((?i)æ ¡å›­|æ•™è‚²|ä¹…è™š|IPV6)).*$
# é¦™æ¸¯èŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡­ğŸ‡°|æ¸¯|è™šé€š|HK|Hong))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|GAME|IPV6)).*$
# æ¾³é—¨èŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡²ğŸ‡´|æ¾³é—¨|MO|Oman))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# å°æ¹¾èŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡¹ğŸ‡¼|å°|TW|Tai))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# æ—¥æœ¬èŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|JP|Japan))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# éŸ©å›½èŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡°ğŸ‡·|éŸ©|éŸ“|é¦–å°”|KR|Korea))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# æ–°åŠ å¡èŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|SG|Singapore))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# ç¾å›½èŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# åŠ æ‹¿å¤§èŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡¨ğŸ‡¦|åŠ æ‹¿å¤§|CA|Canada))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# ä¿„ç½—æ–¯èŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡·ğŸ‡º|ä¿„|è«æ–¯ç§‘|æ–°è¥¿ä¼¯åˆ©äºš|ĞĞ¾Ğ²Ğ¾ÑĞ¸Ğ±Ğ¸ÌÑ€ÑĞºĞ°Ñ|Moscow|RU|Russia))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# è‹±å›½èŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡¬ğŸ‡§|è‹±|ä¼¦æ•¦|UK|United Kingdom))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# å°åº¦èŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡®ğŸ‡³|å°|ç­åŠ ç½—å°”|å­Ÿä¹°|Mumbai|IN|India))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# é˜¿æ ¹å»·èŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡¦ğŸ‡·|é˜¿æ ¹å»·|AR|Argentinaia))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# åœŸè€³å…¶èŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡¹ğŸ‡·|åœŸè€³å…¶|TR|TUR|Turkey))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# å¾·å›½èŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡©ğŸ‡ª|å¾·|DE|Germany))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# è·å…°èŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡³ğŸ‡±|è·|NL|Holland|Netherlands))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡¦ğŸ‡º|æ¾³å¤§|AU|Australia))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# å—éèŠ‚ç‚¹
# ^(?=.*((?i)ğŸ‡¿ğŸ‡¦|å—é|ZA|South Africa))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$
# å…¨çƒèŠ‚ç‚¹ï¼ˆæ¸¯ğŸ‡­ğŸ‡°æ¾³ğŸ‡²ğŸ‡´å°ğŸ‡¹ğŸ‡¼æ—¥ğŸ‡¯ğŸ‡µéŸ©ğŸ‡°ğŸ‡·æ–°ğŸ‡¸ğŸ‡¬ç¾ğŸ‡ºğŸ‡¸ï¼‰
# ^(?=.*((?i)ğŸ‡­ğŸ‡°|ğŸ‡²ğŸ‡´|ğŸ‡¹ğŸ‡¼|ğŸ‡¯ğŸ‡µ|ğŸ‡°ğŸ‡·|ğŸ‡¸ğŸ‡¬|ğŸ‡ºğŸ‡¸|è™šé€š|æ¸¯|å°|æ¾³é—¨|æ–°åŠ å¡|ç‹®|æ—¥|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|éŸ©|éŸ“|é¦–å°”|ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|æ¥P|HK|Hong|TW|Tai|Oman|SG|Singapore|JP|Japan|KR|Korea|United States|MO|US))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|(?i)GAME|IPV6)).*$
# ç­–ç•¥ç»„ä¸­è¿˜æ˜¯å°½é‡æŠŠå„ç§æµåª’ä½“çš„é€‰æ‹©ç»™åˆ—å‡ºæ¥äº†ï¼Œä¾¿äºæ ¹æ®è‡ªå·±éœ€è¦è¿›è¡Œé€‰æ‹©å’Œå¢åˆ 
Apple = select, DIRECT, ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹, no-alert=0, hidden=0, include-all-proxies=0
ğŸ¤–Google = select, ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹, no-alert=0, hidden=0, include-all-proxies=0
ğŸ“½ï¸Netflix = select, ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ç‹®åŸèŠ‚ç‚¹, ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³å°æ¹¾èŠ‚ç‚¹, ğŸ‡°ğŸ‡·éŸ©å›½èŠ‚ç‚¹, ğŸ‡ºğŸ‡³å…¶å®ƒåŒºåŸŸ, no-alert=0, hidden=0, include-all-proxies=0
ğŸ›SpeedTest = select, DIRECT, no-alert=0, hidden=0, include-all-proxies=0
ğŸ¶TikTok = select, ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹, update-interval=21600, no-alert=0, hidden=0, include-all-proxies=0
ğŸ›«Telegram = select, ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ç‹®åŸèŠ‚ç‚¹, ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³å°æ¹¾èŠ‚ç‚¹, no-alert=0, hidden=0, include-all-proxies=0
ğŸ¦Twitter = select, ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ç‹®åŸèŠ‚ç‚¹, ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³å°æ¹¾èŠ‚ç‚¹, no-alert=0, hidden=0, include-all-proxies=0
ğŸ“ºYoutube = select, ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ç‹®åŸèŠ‚ç‚¹, ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³å°æ¹¾èŠ‚ç‚¹, ğŸ‡ºğŸ‡³å…¶å®ƒåŒºåŸŸ, no-alert=0, hidden=0, include-all-proxies=0
ğŸŒå…¨çƒåŠ é€Ÿ = select, ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ç‹®åŸèŠ‚ç‚¹, ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³å°æ¹¾èŠ‚ç‚¹, no-alert=0, hidden=0, include-all-proxies=0
ğŸ å›½å†…ç›´è¿ = select, DIRECT, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0
ğŸ¬æ¼ç½‘ä¹‹é±¼ = select, DIRECT, ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ç‹®åŸèŠ‚ç‚¹, ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³å°æ¹¾èŠ‚ç‚¹, no-alert=1, hidden=0, include-all-proxies=0
ğŸ‡¯ğŸ‡µæ—¥æœ¬èŠ‚ç‚¹ = url-test, policy-regex-filter=æ—¥|JP|Japan|ğŸ‡¯ğŸ‡µ, no-alert=0, evaluate-before-use=true, hidden=0, include-all-proxies=0
ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹ = url-test, policy-regex-filter=ç¾|US|ğŸ‡ºğŸ‡¸, no-alert=1, hidden=0, evaluate-before-use=true, include-all-proxies=0
ğŸ‡¸ğŸ‡¬ç‹®åŸèŠ‚ç‚¹ = url-test, policy-regex-filter=å¡|SG|ğŸ‡¸ğŸ‡¬|Singapore, no-alert=1, hidden=0, evaluate-before-use=true, include-all-proxies=0
ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹ = url-test, evaluate-before-use=true, policy-regex-filter=æ¸¯|HK|Hong|hk|ğŸ‡­ğŸ‡°, no-alert=1, hidden=0, include-all-proxies=0
ğŸ‡¨ğŸ‡³å°æ¹¾èŠ‚ç‚¹ = url-test, evaluate-before-use=true, policy-regex-filter=æ¹¾|TW|Taiwan|tw, no-alert=1, hidden=0, include-all-proxies=0
ğŸ‡°ğŸ‡·éŸ©å›½èŠ‚ç‚¹ = url-test, policy-regex-filter=éŸ©, no-alert=0, hidden=0, include-all-proxies=0
ğŸ‡ºğŸ‡³å…¶å®ƒåŒºåŸŸ = url-test, policy-regex-filter=^(?!.*(æ¸¯|ç¾|å¡|éŸ©|æ—¥|å°|US|SG|JP|TW|HK)), no-alert=0, hidden=0, include-all-proxies=0

[Rule]
# > Surge And Github å¤–éƒ¨èµ„æºæ›´æ–°æ—¶å‘å‡ºé€šçŸ¥
AND,((DOMAIN,raw.githubusercontent.com), (USER-AGENT,Surge*)),ğŸŒå…¨çƒåŠ é€Ÿ
# åè¿è¥å•†åŠ«æŒæˆ–æ¶æ„ç½‘ç«™
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Hijacking/Hijacking.list,REJECT
# ADGUADå»å¹¿å‘Š
DOMAIN-SET,https://anti-ad.net/surge2.txt,REJECT
# å»å¹¿å‘Šï¼ˆæ›´æ¢ä¸ºç¥æœºè§„åˆ™ï¼‰
DOMAIN-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/AdvertisingPlus.list,REJECT
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list,REJECT
# ä¿æŠ¤éšç§
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Privacy/Privacy_Domain.list,REJECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Privacy/Privacy.list,REJECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Download/Download.list,DIRECT
# Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,ğŸApple
# ChinaMedia
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/StreamingCN.list,ğŸ å›½å†…ç›´è¿
# Disney+
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list,ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹
# Epic
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Epic/Epic.list,ğŸ å›½å†…ç›´è¿
# Google Drive
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Google/GoogleDrive.list,ğŸ¤–Google
# Google Voice
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Google/GoogleVoice.list,ğŸ¤–Google
# Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,ğŸ¤–Google
# Netflix
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,ğŸ“½ï¸Netflix
# OneDrive
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OneDrive/OneDrive.list,ğŸ å›½å†…ç›´è¿
# PayPal
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/PayPal/PayPal.list,ğŸ‡ºğŸ‡¸ç¾å›½èŠ‚ç‚¹
# SteamCN
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/SteamCN/SteamCN.list,ğŸ å›½å†…ç›´è¿
# Steam
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Steam/Steam.list,ğŸŒå…¨çƒåŠ é€Ÿ
# Spotify
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list,ğŸ‡¨ğŸ‡³å°æ¹¾èŠ‚ç‚¹
# Speedtest
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Speedtest/Speedtest.list,ğŸ›SpeedTest
# StreamingMediaå›½å†…å½±è§†æµ·å¤–ç‰ˆ
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/StreamingSE.list,ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹
# TikTokåˆ†æµ@Semporia
RULE-SET,https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Loon/TikTok.list,ğŸ¶TikTok
# Twitter
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Twitter.list,ğŸ¦Twitter
# Telegram
# é˜»æ­¢ç”µæŠ¥é¢‘ç¹è¯·æ±‚
RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.Telegram.list,ğŸ›«Telegram
AND,((PROCESS-NAME,Telegram), (OR,((IP-CIDR,0.0.0.0/8), (IP-CIDR,224.0.0.0/4)))),REJECT
OR,((IP-ASN,44907,no-resolve), (IP-ASN,59930,no-resolve), (IP-ASN,62014,no-resolve), (IP-ASN,62041,no-resolve), (IP-ASN,211157,no-resolve)),ğŸ›«Telegram
# Telegramåˆ†æµ
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Telegram/Telegram.list,ğŸ›«Telegram
# å¯¹äºä¸€äº›å¯¹æˆ˜æ¸¸æˆå› ä¸ºéƒ½æ˜¯åŸºäºUDPï¼Œå¼€å¯æ­¤é€‰é¡¹åå¯é¿å…ä¸€äº›å»¶è¿Ÿã€‚é»˜è®¤å…³é—­
PROTOCOL,UDP,DIRECT
# YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTubeMusic/YouTubeMusic.list,ğŸ“ºYoutube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,ğŸ“ºYoutube
# Globalå›½å¤–ç½‘ç«™
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list,ğŸŒå…¨çƒåŠ é€Ÿ
# ChinaMax@blackmatrix7å›½å†…ç›´è¿
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/ChinaMax/ChinaMax.list,ğŸ å›½å†…ç›´è¿
# Surge çš„è‡ªåŠ¨ REJECT ä¿æŠ¤ä¸¢åŒ…ï¼Œé˜²æ­¢åº”ç”¨å¾ªç¯è¯·æ±‚
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
# GeoIP CNï¼ŒåŸºäº GeoIP æ•°æ®åº“åˆ¤æ–­åŸŸåå’Œ IP çš„å½’å±åœ°
GEOIP,CN,DIRECT
# Local Area Network å±€åŸŸç½‘
RULE-SET,LAN,DIRECT
# DNS æŸ¥è¯¢å¤±è´¥èµ° Final è§„åˆ™
FINAL,ğŸ¬æ¼ç½‘ä¹‹é±¼,dns-failed
# è§„åˆ™å®šä¹‰éƒ¨åˆ†
# è§„åˆ™çš„ç»„æˆ
# è§„åˆ™ç”±å››ä¸ªéƒ¨åˆ†ç»„æˆï¼š
# <è§„åˆ™ç±»å‹>,<å†…å®¹æ¡ä»¶>,<ç­–ç•¥>,[å‚æ•°]
# Surge ä½¿ç”¨è§„åˆ™ç³»ç»Ÿæ¥å¯¹é€‰æ‹©æ¯ä¸ªè¿æ¥çš„å‡ºå£ç­–ç•¥ã€‚è§„åˆ™çš„åŒ¹é…æ–¹å¼ä¸ºè‡ªä¸Šè€Œä¸‹ï¼Œé€ä¸€æµ‹è¯•ã€‚æœ€æœ«å°¾è§„åˆ™ä¸€å®šæ˜¯ FINAL è§„åˆ™ï¼Œå½“æ‰€æœ‰è§„åˆ™éƒ½ä¸åŒ¹é…æ—¶ä½¿ç”¨è¯¥è§„åˆ™ã€‚
# æ ‡å‡†è§„åˆ™
# 1.DOMAIN ç±»å‹è§„åˆ™
# # å½“è¯·æ±‚çš„åŸŸåå®Œå…¨åŒ¹é…æ—¶æ‰§è¡Œï¼š
# DOMAIN,www.baidu.com,REJECT // å±è”½ç™¾åº¦é¦–é¡µ
# DOMAIN,baike.baidu.com,REJECT // å±è”½ç™¾åº¦ç™¾ç§‘
# DOMAIN,1.1.1.1,REJECT
# 2.DOMAIN-SUFFIXç±»å‹è§„åˆ™
# # å½“è¯·æ±‚çš„åŸŸåçš„åç¼€åŒ¹é…æ—¶æ‰§è¡Œï¼š
# DOMAIN-SUFFIX,doubleclick.net,REJECT // å±è”½ doubleclick.net åŠå…¶å­åŸŸå
# 3.DOMAIN-KEYWORD ç±»å‹è§„åˆ™
# # å½“è¯·æ±‚çš„åŸŸååŒ…å«å…³é”®è¯æ—¶æ‰§è¡Œï¼š
# DOMAIN-KEYWORD,adservice,REJECT
# åˆšæ¥è§¦ Surge çš„æœ‹å‹å¯èƒ½ä¼šæœ‰ç‚¹è¿·èŒ«äº DOMAIN-SUFFIX ç±»å‹è§„åˆ™åˆ°åº•å’Œ DOMAIN ç±»å‹è§„åˆ™æœ‰ä»€ä¹ˆä¸åŒï¼Œåœ¨å¦‚ä¸Šç¤ºä¾‹ä¸­çš„ DOMAIN-SUFFIX,doubleclick.net,REJECT ç›¸æ¯”ä½¿ç”¨ hosts éœ€è¦ä¸€æ¡æ¡çš„é˜»æ­¢åŸŸåï¼Œå¦‚ï¼š
# 127.0.0.1 ad.doubleclick.net
# 127.0.0.1 adx.g.doubleclick.net
# 127.0.0.1 pubads.g.doubleclick.net
# Surge ä»…ä½¿ç”¨ä¸€æ¡ DOMAIN-SUFFIX ç±»å‹è§„åˆ™ï¼Œå°±å¯ä»¥å¯¹ doubleclick.net åŠå…¶å­åŸŸåéƒ½åšå‡ºäº†é˜»æ­¢ã€‚
# ğŸ’¡ å†çœ‹å‡ ä¸ªå…³äº DOMAIN-SUFFIX çš„ä¾‹å­ï¼š
# DOMAIN-SUFFIX,googleadsserving.cn å¯¹äº googleadsserving.cnã€www.googleadsserving.cn éƒ½ä¼šç”Ÿæ•ˆï¼Œä½† google-adsserving.cn å°±ä¸ä¼šï¼ˆæ³¨æ„ -ï¼‰ï¼›
# ads.example.com æœ¬èº«åŠå…¶å­åŸŸåæ˜¯å¹¿å‘Šï¼Œè€Œ example.com æœ¬èº«åŠå…¶ä»–å­åŸŸåæ˜¯æ­£å¸¸å†…å®¹å°±å¯ä»¥ä½¿ç”¨ï¼š DOMAIN-SUFFIX,ads.example.com,REJECTï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯åªèƒ½å°†ä¸€çº§åŸŸåç”¨äº DOMAIN-SUFFIXï¼›
# å¯ä»¥å¯¹åŸŸååç¼€ä½¿ç”¨ï¼Œå¦‚æƒ³å¯¹æ‰€æœ‰ .cn åç¼€çš„åŸŸåéƒ½é‡‡å–ç›´è¿ç­–ç•¥ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ï¼šDOMAIN-SUFFIX,cn,DIRECTï¼›
# é‡åˆ°è¿‡ 3 ä¸ªç±»ä¼¼ Surge çš„åº”ç”¨éƒ½å‡ºç°è¿‡å¯¹ DOMAIN-SUFFIX è®¾è®¡çš„ç†è§£é”™è¯¯
# å¦å¤–ï¼ŒåŸŸåå…¶å®æ˜¯ä¸»æœºåçš„ä¸€ç§å½¢å¼ï¼ŒSurge å†…éƒ¨å¯¹åŸŸåå’Œä¸»æœºåå¹¶æ²¡æœ‰åŒºåˆ†ï¼Œæ‰€æœ‰æ–‡æ¡£æ‰€æåˆ°çš„åŸŸåå’Œä¸»æœºåæ‰€å¯¹åº”çš„å¤„ç†é€»è¾‘éƒ½æ˜¯ä¸€æ ·çš„ã€‚æ¯”å¦‚ï¼ŒDOMAIN,1.2.3.4 è§„åˆ™å…¶å®ä¹Ÿå¯ä»¥ç”¨äºåŒ¹é…ç›®æ ‡ä¸»æœºä¸º IP åœ°å€ 1.2.3.4 çš„è¿æ¥ã€‚DOMAIN,MacBook.local ä¹Ÿå¯ç”¨äºåŒ¹é… Bonjour ä¸»æœºåã€‚
# 4.IPç±»å‹è§„åˆ™
# å½“ç›®æ ‡ä¸»æœºåæ˜¯ä¸€ä¸ªåŸŸåæˆ–ä¸»æœºåæ—¶ï¼ŒIP ç±»å‹è§„åˆ™ä¼šè§¦å‘æœ¬åœ° DNS è§£æã€‚æ ¹æ®è§£æå¾—åˆ°çš„ IP åœ°å€è¿›è¡Œåˆ¤æ–­ã€‚å½“è§£æå¤±è´¥æ—¶ï¼šå¦‚æœæœ€ç»ˆçš„ FINAL è§„åˆ™å¸¦æœ‰ dns-failed æ ‡è®°ï¼Œé‚£ä¹ˆå°†ç›´æ¥åŒ¹é… FINAL è§„åˆ™ã€‚å¦‚æœ FINAL è§„åˆ™ä¸å¸¦æœ‰ dns-failed æ ‡è®°ï¼Œè¯¥è¯·æ±‚å°†ç›´æ¥å¤±è´¥ã€‚
# IP ç±»å‹è§„åˆ™æœ‰ä¸€ä¸ªä¸“æœ‰çš„å‚æ•° no-resolveï¼Œå¦‚æœä¸€ä¸ª IP è§„åˆ™å¸¦æœ‰è¯¥å‚æ•°ï¼Œé‚£ä¹ˆï¼š
# å¦‚æœç›®æ ‡ä¸»æœºåæ˜¯ä¸€ä¸ªåŸŸåï¼Œé‚£ä¹ˆå°†è·³è¿‡è¯¥è§„åˆ™ï¼Œä¸è§¦å‘ DNS è§£æã€‚
# å¦‚æœç›®æ ‡ä¸»æœºåæ˜¯ IP åœ°å€ï¼ŒæŒ‰è§„åˆ™è¿›è¡Œåˆ¤æ–­ã€‚
# å¦‚æœç›®æ ‡ä¸»æœºåæ˜¯ä¸€ä¸ªåŸŸåï¼Œä¸”å…ˆå‰å‡ºç°çš„ IP è§„åˆ™å·²ç»è§¦å‘äº† DNS è§£æè·å¾—äº† IP åœ°å€ï¼Œé‚£ä¹ˆä½¿ç”¨è¯¥ IP åœ°å€è¿›è¡Œåˆ¤æ–­ã€‚
# ç”±äº DNS æŸ¥è¯¢æœ‰æ—¶é—´å¼€é”€ï¼Œæ‰€ä»¥åœ¨é…ç½®è§„åˆ™æ—¶ï¼Œæœ€ä¼˜çš„æ–¹å¼æ˜¯å°½é‡å…ˆä¸è§¦å‘ DNS è§£æï¼Œå°†æ‰€æœ‰ä¼šè§¦å‘ DNS è§£æçš„è§„åˆ™æ”¾åœ¨åº•éƒ¨ã€‚è¿™æ ·åº”ä½¿ç”¨ä»£ç†ç­–ç•¥çš„è¯·æ±‚å°±å®Œå…¨é¿å…äº†åœ¨æœ¬åœ°è¿›è¡Œ DNS è§£æã€‚
# ä½†æ˜¯ä¹Ÿä¸ç”¨åˆ»æ„çš„å»å®Œå…¨é¿å…è§£æï¼Œå› ä¸ºä¸€æ—¦å†³å®šä½¿ç”¨ DIRECT ç­–ç•¥ï¼Œé‚£ä¹ˆæœ€ç»ˆè¿˜æ˜¯è¦è¿›è¡Œè§£æã€‚Surge æœ‰å®Œå¤‡çš„ DNS ç¼“å­˜ç³»ç»Ÿï¼Œä¸å¿…åœ¨æ„çŸ­æ—¶é—´å†…çš„é‡å¤è§£æã€‚
# ä¸è¿‡éœ€è¦æ³¨æ„ï¼Œå¦‚æœæŸç›®æ ‡ä¸»æœºåœ¨æœ¬åœ° DNS ä¸å¯è¢«è§£æï¼Œé‚£ä¹ˆä¸€å®šéœ€è¦åŠ å…¥å¯¹åº”çš„è§„åˆ™ï¼Œåœ¨è§¦å‘ DNS å‰å°±å†³å®šç­–ç•¥ç»ˆæ­¢åŒ¹é…ã€‚æˆ–è€…å¯¹ FINAL è§„åˆ™åŠ ä¸Š dns-failed æ ‡è®°å¹¶ä½¿ç”¨ä»£ç†ç­–ç•¥ã€‚
# ä»¥ä¸‹éƒ¨åˆ†ä¸ºç¤ºä¾‹ï¼š
# # IP-CIDR ä¸ IP-CIDR6 ç±»å‹è§„åˆ™
# # å½“è¯·æ±‚çš„ç›®æ ‡ IP å±äºæŒ‡å®šæ®µæ—¶æ‰§è¡Œï¼š
# #IP-CIDR,47.119.139.56/32,REJECT //ç¤ºä¾‹ï¼Œè¯·å‹¿å¯ç”¨
# #IP-CIDR6,2606:4700:4700::1001/128,CELLULAR //ç¤ºä¾‹ï¼Œè¯·å‹¿å¯ç”¨
# 5.GEOIPç±»å‹è§„åˆ™
# # å½“ IP å½’å±åœ°åœ°åŒºç¬¦åˆæ—¶æ‰§è¡Œï¼š
# #GEOIP,CN,DIRECT //ç¤ºä¾‹ï¼Œè¯·å‹¿å¯ç”¨
# 6.IP-ASN ç±»å‹è§„åˆ™
# # å½“ IP å±äº ASN å·æ—¶æ‰§è¡Œï¼š
# #IP-ASN,13335,CELLULAR //ç¤ºä¾‹ï¼Œè¯·å‹¿å¯ç”¨
# å¦‚æœä¸æ¸…æ¥š IP-CIDR çš„ /32 ä¸ /128ï¼Œéœ€è¦è‡ªè¡Œäº†è§£ã€ŒCIDRã€ä¸ã€Œå­ç½‘æ©ç ã€ï¼Œå¯ä»¥æœç´¢ã€Œå­ç½‘æ©ç è®¡ç®—å™¨ã€è·å¾—å¸®åŠ©ï¼›
# IP ç±»å‹è§„åˆ™éœ€è¦æ³¨æ„ä½¿ç”¨å‚æ•° no-resolveï¼Œåœ¨ä¸æ‰§è¡Œ DNS è§£æå¯ä»¥åŠ ä¸Šï¼Œå¦‚ï¼š
# #IP-CIDR,1.2.3.4/32,CELLULAR,no-resolve //ç¤ºä¾‹ï¼Œè¯·å‹¿å¯ç”¨
# åœ¨æœ‰ DOMAIN ç±»å‹è§„åˆ™ä¹‹å‰ä½¿ç”¨ IP ç±»å‹è§„åˆ™æ—¶æœ€å¥½è¦åŠ ä¸Š no-resolve æˆ–å°†å…¶ç§»åŠ¨åˆ° DOMAIN ç±»å‹ä¹‹åï¼›
# Surge ä½œè€…æœ‰æåˆ°ä¸å»ºè®®ä¹Ÿæ²¡æœ‰å¿…è¦ä½¿ç”¨ IP-ASN ç±»å‹è§„åˆ™è¿›è¡Œåœ°åŒºåˆ†æµï¼›
# 7.è¿›ç¨‹åç±»å‹è§„åˆ™
# PROCESS-NAME ç±»å‹è§„åˆ™
# # å½“è¯·æ±‚çš„åº”ç”¨è¿›ç¨‹åç¬¦åˆæ—¶åŒ¹é…ï¼Œå¯åŒ¹é…å¯æ‰§è¡Œæ–‡ä»¶çš„æ–‡ä»¶åæˆ–ç»å¯¹è·¯å¾„ï¼Œæ”¯æŒ * å’Œ ? é€šé…ç¬¦ï¼š
# PROCESS-NAME,/Applications/QQ.app/Contents/MacOS/QQ,DIRECT
# PROCESS-NAME,QQ,DIRECT
# è¯¥ç±»å‹è§„åˆ™ä»… macOS ç‰ˆ Surge å¯ç”¨ï¼ŒiOS ç‰ˆ Surge ä¼šå¿½ç•¥ã€‚
# 8.HTTP ç±»å‹è§„åˆ™
# USER-AGENT ç±»å‹è§„åˆ™
# # å½“è¯·æ±‚çš„ User Agent ç¬¦åˆæ—¶æ‰§è¡Œï¼š
# USER-AGENT,TIM*,DIRECT
# å…³äº USER-AGENT ç±»å‹è§„åˆ™ï¼š
# User Agent å¯åœ¨ iOS ç‰ˆ Surge çš„ã€Œå·¥å…·ã€>ã€Œæœ€è¿‘è¯·æ±‚ã€å†…çš„è¯·æ±‚åˆ—è¡¨ä¸­æ‰¾åˆ°æƒ³è¦çš„å¹¶è¿›å…¥æŸä¸ªè¯·æ±‚ï¼Œåœ¨ã€Œè¯·æ±‚ã€é€‰é¡¹å¡ä¸‹çš„ã€ŒREQUEST HEADERã€ä¸­å¯çœ‹åˆ°ï¼Œå¦‚è…¾è®¯ TIM çš„ User Agent ä¸ºï¼šUser-Agent: TIM/3.3.5.545 CFNetwork/1220.1 Darwin/20.3.0ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦çœå»åå­—åé¢çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯ï¼šTIM*ï¼›
# 9.URL-REGEX ç±»å‹è§„åˆ™
# # å½“è¯·æ±‚çš„ URL åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼æ—¶æ‰§è¡Œï¼š
# URL-REGEX,^http://example.com/ads,REJECT
# åœ¨ iOS 15 ä¹‹å‰ï¼Œç¨‹åºåœ¨ä½¿ç”¨ HTTP ä»£ç†æ—¶ï¼Œä¼šåœ¨å‘é€ CONNECT è¯·æ±‚æ—¶å¸¦ä¸Šè‡ªå·± User Agent çš„æ˜æ–‡ï¼Œè€Œåœ¨ iOS 15 ç³»ç»Ÿåï¼Œç³»ç»Ÿå‡ºäºéšç§ä¿æŠ¤è€ƒè™‘ä¸å†äº CONNECT è¯·æ±‚ä¸­æä¾› User-Agentï¼Œè¿™æ„å‘³ç€å¯¹äºæ‰€æœ‰ HTTPS è¯·æ±‚ï¼Œåœ¨æœªå¼€å¯ MITM æ—¶ï¼ŒUser-Agent å‡ä¸å¯è§ä¸”è§„åˆ™æ— æ³•ç”Ÿæ•ˆï¼›
# 10.é€»è¾‘è§„åˆ™
# AND ä¸è§„åˆ™ã€‚
# å½“æ‰€æœ‰å­è§„åˆ™éƒ½æ»¡è¶³æ—¶ï¼Œåˆ™æ‰§è¡Œè¯¥è§„åˆ™ï¼š
# AND,((#Rule1), (#Rule2), (#Rule3)...),Policy
# ä¾‹å­
# # å¼ºåˆ¶å›é€€åˆ° HTTP2/HTTP1.1
# AND,((PROTOCOL,UDP), (DEST-PORT,443)),REJECT-NO-DROP // ç¤ºä¾‹ï¼Œè¯·å‹¿å¯ç”¨
# # æ‹¦æˆª Chrome å‘å‡ºçš„ UDP æ•°æ®åŒ…
# AND,((PROCESS-NAME,Google Chrome), (PROTOCOL,UDP)),REJECT // ç¤ºä¾‹ï¼Œè¯·å‹¿å¯ç”¨
# è¿™ä¸¤ä¸ªä¾‹å­çš„ä½œç”¨æ˜¯é’ˆå¯¹ç›®å‰ HTTP3/QUIC åè®®å¼€å§‹æµè¡Œï¼Œä½†å›½å†… ISP å’Œå›½é™…å‡ºå£çš„ UDP ä¼˜å…ˆçº§éƒ½å¾ˆä½ï¼Œå¯¼è‡´ä¸Šç½‘ä½“éªŒä¸‹é™ï¼Œç”¨ä»¥å¼ºåˆ¶å›é€€åˆ° HTTP2/HTTP1.1ã€‚
# å…³äºè¿™ä¸ªé—®é¢˜ä¹Ÿå¯ä»¥åœ¨æµè§ˆå™¨å†…è¿›è¡Œè®¾ç½®ï¼Œä»¥å…³é—­ QUIC ç‰¹æ€§ï¼šã€Šæµè§ˆå™¨ | å…³é—­ HTTP/3 (QUIC) ç‰¹æ€§ã€‹
# ORæˆ–è§„åˆ™ã€‚
# å½“ä»»æ„å­è§„åˆ™æ»¡è¶³æ—¶ï¼Œåˆ™æ‰§è¡Œè¯¥è§„åˆ™ï¼š
# OR,((#Rule1), (#Rule2), (#Rule3)...),Policy
# ä¾‹å­
# [Rule]
# OR,((SRC-IP,192.168.1.110), (SRC-IP,192.168.1.111)),DIRECT
# ç½‘å…³æ¨¡å¼ä¸‹çš„ 192.168.1.110 æˆ– 192.168.1.111 è®¾å¤‡çš„è¯·æ±‚é‡‡å–ç›´è¿ç­–ç•¥ã€‚
# NOT  éè§„åˆ™ã€‚
# å½“ä»»æ„å­è§„åˆ™æ»¡è¶³æ—¶ï¼Œåˆ™æ‰§è¡Œè¯¥è§„åˆ™ï¼š
# NOT,((#Rule1)),Policy
# ä¾‹å­
# 
# AND,((NOT,((SRC-IP,192.168.1.110))), (DOMAIN,example.com)),DIRECT // ç¤ºä¾‹ï¼Œè¯·å‹¿å¯ç”¨
# è¿™æ¡è§„åˆ™ç¨å¾®æœ‰ç‚¹å¤æ‚ï¼Œå®ƒå°† AND å’Œ NOT ç›¸ç»“åˆï¼Œå®ƒè¡¨ç¤ºç½‘å…³æ¨¡å¼ä¸‹é™¤äº†è®¾å¤‡ 192.168.1.110 ä»¥å¤–çš„å…¶ä»–è®¾å¤‡åœ¨è¯·æ±‚åŸŸå example.com æ—¶åšç›´è¿å¤„ç†ã€‚
# è§„åˆ™é›†
# RULE-SET
# RULE-SET åˆ†ä¸º
# å†…ç½®è§„åˆ™é›† å’Œ å¤–éƒ¨è§„åˆ™é›†ï¼Œå†…ç½®è§„åˆ™é›†ç›®å‰æ˜¯ä¸¤ç§ï¼šSYSTEM åŠ LANã€‚
# å†…ç½®è§„åˆ™é›†ï¼šSYSTEM
# å¯åŒ¹é…æ¥è‡ª macOS å’Œ iOS è‡ªèº«çš„å¤§å¤šæ•°ç³»ç»Ÿè¯·æ±‚ï¼ŒApp Store å’Œ iTunes ç­‰å…¶ä»–å†…å®¹æœåŠ¡çš„è¯·æ±‚ä¸ä¼šè¢«åŒ¹é…ã€‚
# å†…ç½®è§„åˆ™é›†ï¼šLAN
# å¯åŒ¹é…å±€åŸŸç½‘ IP åœ°å€å’Œ .local åç¼€ï¼Œè¯·æ³¨æ„è¯¥è§„åˆ™é›†ä¼šè§¦å‘ DNS è¯·æ±‚ã€‚
# æ³¨æ„è¿™é‡Œçš„ã€Œè¯·æ³¨æ„è¯¥è§„åˆ™é›†ä¼šè§¦å‘ DNS è¯·æ±‚ã€ï¼Œå¦‚æœçœ‹è¿‡ä¹‹å‰çš„æ–‡ç« åº”è¯¥å°±ä¼šæ˜ç™½è¿™æ˜¯å’Œ no-resolve é€‰é¡¹æœ‰å…³ï¼Œä½†æœ‰å…³å±€åŸŸç½‘çš„éƒ¨åˆ†ä¸å•æ˜¯åŒ¹é… IP æœ¬èº«ï¼Œä¸€äº› IP ä¸ºæœ¬åœ°ç½‘ç»œçš„åŸŸåä¹Ÿåº”è¯¥åŒ…å«åœ¨å†…ï¼Œæ‰€ä»¥ä¸åº”è¯¥ä½¿ç”¨ no-resolve é€‰é¡¹ã€‚
# æ•…è€Œä¸€èˆ¬çš„é…ç½®éƒ½ä¼šå°†æ­¤æ”¾ç½®äºé…ç½®æœ«å°¾ï¼ˆåœ¨ DOMAIN ç›¸å…³ç±»å‹è§„åˆ™ä¹‹åå°±ä¸ä¼šè§¦å‘ï¼‰ã€‚
# å¤–éƒ¨è§„åˆ™é›†
# å¤–éƒ¨è§„åˆ™é›†å°±æ˜¯ä»å¦ä¸€ä¸ªæ–‡ä»¶æˆ–è€… URL å¼•ç”¨è§„åˆ™é›†ã€‚
# å…¶å®ä»ä¸Šè¿°ä¸¤ä¸ªå†…ç½®è§„åˆ™é›†ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œæ‰€è°“çš„è§„åˆ™é›†å°±æ˜¯å°†å¤šä¸ªå­è§„åˆ™æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œä¾¿äºåˆ†äº«å’Œå¤ç”¨ã€‚ä½†æ˜¯è§„åˆ™é›†ä¸­çš„è§„åˆ™ä¸å¯ä»¥æŒ‡å®šç­–ç•¥ï¼Œè€Œæ˜¯å°†æ•´ä¸ªè§„åˆ™é›†æŒ‡å‘ä¸€ä¸ªåŒä¸€ä¸ªç­–ç•¥ã€‚
# å¯ä»¥å°†åˆ¶ä½œå¥½çš„è§„åˆ™é›†æ–‡æœ¬æ–‡ä»¶æ”¾ç½®åœ¨æœåŠ¡å™¨ä¸Šè¿›è¡Œå¼•ç”¨ï¼Œå¦‚ï¼š
# RULE-SET,https://www.example.com/direct.list,DIRECT // ç¤ºä¾‹ï¼Œè¯·å‹¿å¯ç”¨
# åœ¨é…ç½®é‡Œä½¿ç”¨ RULE-SET ç±»å‹è§„åˆ™ï¼Œå†…å®¹å°±æ˜¯è§„åˆ™é›†åœ°å€ï¼Œç„¶ååŠ ä¸Šç­–ç•¥å³å¯ã€‚
# DOMAIN-SET
# DOMAIN-SET å®é™…å±äºã€Œæ ‡å‡†è§„åˆ™ã€ï¼Œä½†æ˜¯å…¶åŠŸèƒ½ç±»ä¼¼ Ruleset æ‰€ä»¥æ”¾åœ¨ä¸€èµ·è¯´äº†ã€‚
# RULE-SET å¯åŒ…å«æ‰€æœ‰ç±»å‹çš„å­è§„åˆ™ï¼Œæ‰§è¡Œæ•ˆç‡å’Œåœ¨ä¸»é…ç½®ä¸­çš„è§„åˆ™æ²¡æœ‰åŒºåˆ«ï¼Œè€Œ DOMAIN-SET ä»…å¯ä½¿ç”¨ DOMAIN å’Œ DOMAIN-SUFFIX ä¸¤ç§å½¢å¼çš„å†…å®¹ï¼Œä½¿ç”¨äº†ç‰¹åˆ«çš„é€»è¾‘è¿›è¡Œä¼˜åŒ–ï¼Œåœ¨å†…å®¹éå¸¸å¤šæ—¶æ€§èƒ½æœ‰æå¤§çš„æå‡ã€‚ï¼ˆåƒæ¡ä»¥ä¸Šï¼Œå¦åˆ™ä¸¤è€…æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼‰
# DOMAIN-SET æ–‡ä»¶å†…å®¹ç¤ºä¾‹å¦‚ä¸‹ï¼š
# .doubleclick.net
# static.googleadsserving.cn
# 1.1.1.1
# æ–‡ä»¶ä¸­æ¯è¡Œä¸ºä¸€ä¸ªåŸŸåæˆ–ä¸€ä¸ª IP åœ°å€ï¼Œå¦‚æœæŸè¡Œä»¥ . å¼€å¤´åˆ™è¡¨ç¤ºåŒ¹é…æ‰€æœ‰å­åŸŸåå’Œè¯¥åŸŸåæœ¬èº«ã€‚
# âš ï¸ æ³¨æ„ï¼šIP ä»…æ”¯æŒä¸€ä¸ª IP åœ°å€ï¼Œä¸æ”¯æŒç±»ä¼¼ IP-CIDR ç±»å‹è§„åˆ™çš„å­ç½‘æ©ç å·çš„å†™æ³•
# å®ƒçš„ä½¿ç”¨æ–¹æ³•ä¹Ÿç±»ä¼¼ Rulesetï¼š
# DOMAIN-SET,https://www.example.com/reject.list,REJECT // ç¤ºä¾‹ï¼Œè¯·å‹¿å¯ç”¨
# é€šçŸ¥
# ä½¿ç”¨ notification-text å‚æ•°å¯ä»¥åœ¨è§¦å‘è§„åˆ™æ—¶è®© Surge å¼¹å‡ºä¸€æ¡é€šçŸ¥ï¼š
# ç¤ºä¾‹ï¼š
# DOMAIN-SUFFIX,bilibili.com,DIRECT,notification-text="( ã‚œ- ã‚œ)ã¤ãƒ­ ä¹¾æ¯~" // ç¤ºä¾‹ï¼Œè¯·å‹¿å¯ç”¨
# å¦‚ä¸Šç¤ºä¾‹ï¼Œä½¿ç”¨è‹±æ–‡åŒå¼•å·æŠŠä½ è¦é€šçŸ¥çš„æ–‡å­—åŒ…èµ·æ¥ï¼Œåœ¨è®¿é—®å“”å“©å“”å“©æ—¶å°±ä¼šå¾—åˆ°ä¸€æ¡é€šçŸ¥ï¼Œé€šçŸ¥å†…å®¹ä¸ºã€Œ( ã‚œ- ã‚œ)ã¤ãƒ­ ä¹¾æ¯~ã€ã€‚
# MAC éƒ¨åˆ†
# # Client
# # > Proxy
# PROCESS-NAME,v2ray,DIRECT
# PROCESS-NAME,xray,DIRECT
# PROCESS-NAME,naive,DIRECT
# PROCESS-NAME,Trojan,DIRECT
# PROCESS-NAME,Trojan-go,DIRECT
# PROCESS-NAME,ss-local,DIRECT
# PROCESS-NAME,privoxy,DIRECT
# PROCESS-NAME,leaf,DIRECT
# PROCESS-NAME,UUBooster,DIRECT
# # > Download for Surge Mac
# PROCESS-NAME,aria2c,DIRECT
# PROCESS-NAME,fdm,DIRECT
# PROCESS-NAME,Folx,DIRECT
# PROCESS-NAME,NetTransport,DIRECT
# PROCESS-NAME,Thunder,DIRECT
# PROCESS-NAME,Transmission,DIRECT
# PROCESS-NAME,uTorrent,DIRECT
# PROCESS-NAME,WebTorrent,DIRECT
# PROCESS-NAME,WebTorrent Helper,DIRECT
# # BT
# DOMAIN-SUFFIX,smtp,DIRECT
# DOMAIN-KEYWORD,aria2,DIRECT
# DOMAIN-KEYWORD,announce,DIRECT
# DOMAIN-KEYWORD,torrent,DIRECT
# DOMAIN-KEYWORD,tracker,DIRECT
# URL-REGEX,(Subject|HELO|SMTP),DIRECT
# URL-REGEX,(api|ps|sv|offnavi|newvector|ulog.imap|newloc)(.map|).(baidu|n.shifen).com,DIRECT
# URL-REGEX,(.+.|^)(360|so|qihoo|360safe|qhimg|360totalsecurity|yunpan).(cn|com),DIRECT
# URL-REGEX,(.+.)?(torrent|announce.php?passkey=|tracker|BitTorrent|bt_key|ed2k|find_node|get_peers|info_hash|magnet:|peer_id=|xunlei)(..+)?,DIRECT
# # è¿…é›·
# URL-REGEX,(.?)(xunlei|sandai|Thunder|XLLiveUD)(.),DIRECT
# DOMAIN-SUFFIX,xunlei.com,DIRECT
# PROCESS-NAME,DownloadService,DIRECT
# # Tencent å¾®äº‘
# PROCESS-NAME,Weiyun,DIRECT
# # BaiduYun ç™¾åº¦ç½‘ç›˜
# PROCESS-NAME,baidunetdisk,DIRECT
# URL-REGEX,(api|ps|sv|offnavi|newvector|ulog\.imap|newloc)(\.map|)\.(baidu|n\.shifen)\.com,DIRECT

[Host]
# è¯¥æ®µå®šä¹‰æœ¬åœ° DNS è®°å½•
# è¯¥åŠŸèƒ½ç­‰åŒäº /etc/hostsï¼ŒåŠ ä¸Šäº†æ³›è§£æå’Œåˆ«åæ”¯æŒã€‚
# DNS å…¨éƒ¨äº¤ç»™ç³»ç»Ÿå¤„ç†
# * = server:syslib
# æœ¬åœ°å€¼
# ç‰¹å®š DNS æœåŠ¡å™¨
*.tw = server:1.1.1.1
testflight.apple.com = server:8.8.8.8
router.asus.com = server:syslib
*.tmall.com = server:223.5.5.5
*.taobao.com = server:223.5.5.5
*.alicdn.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
*.alipay*.com = server:223.5.5.5
*.alibaba*.com = server:223.5.5.5
*.alimama*.com = server:223.5.5.5
*.qq.com = server:119.29.29.29
*.tencent.com = server:119.29.29.29
*.weixin.com = server:119.29.29.29
*.qpic.cn = server:119.29.29.29
*.jd.com = server:119.29.29.29
*.bilibili.com = server:119.29.29.29
hdslb.com = server:119.29.29.29
*.163.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
*.10010.com = server:119.29.29.29
*.baidu.com = server:119.29.29.29
*.unicompayment.com = server:119.29.29.29
*.vercel.app = server:119.29.29.29
*.vercel.com = server:119.29.29.29
*.ximalaya.com = server:119.29.29.29
*.bdstatic.com = server:119.29.29.29

[URL Rewrite]
# è¯¥æ®µå®šä¹‰é’ˆå¯¹ HTTP è¯·æ±‚çš„ URL é‡å®šå‘è§„åˆ™
# Surge æä¾›ä¸¤ç§è¿›è¡Œ HTTP é‡å®šå‘çš„å®ç°æ–¹å¼ï¼š
# è¯·æ±‚å¤´ä¿®æ”¹ï¼šé€šè¿‡ç›´æ¥ä¿®æ”¹è¯·æ±‚å¤´å†…å®¹å®ç°ï¼Œå®¢æˆ·ç«¯ç¨‹åºå¯¹æœ¬æ¬¡é‡å®šå‘æ— æ„ŸçŸ¥ã€‚ä¸ºäº†ä¿è¯é‡å®šå‘åçš„è¡Œä¸ºæ­£ç¡®ï¼ŒURL è¢«ä¿®æ”¹åï¼ŒSurge ä¼šè‡ªåŠ¨ä½¿ç”¨ URL çš„ä¸»æœºåéƒ¨åˆ†è¦†ç›–è¯·æ±‚å¤´çš„ Host å­—æ®µã€‚è„šæœ¬è¿›è¡Œé‡å®šå‘æ—¶ä¸ä¼šè¿›è¡Œè¯¥è¡Œä¸ºã€‚
# è¿”å› 302ã€307 å“åº”ï¼šç›´æ¥å‘ HTTP è¿æ¥è¿”å›ä¸€ä¸ªçŠ¶æ€ç ä¸º 302 æˆ– 307 çš„å®Œæ•´ HTTP å“åº”ï¼Œå®¢æˆ·ç«¯éœ€è¦æ”¯æŒ HTTP é‡å®šå‘ã€‚
# Surge è¿˜å¯ä»¥é€šè¿‡ URL æ‹’ç»æŸäº›è¯·æ±‚ã€‚
# é‡å†™è§„åˆ™ç”±3éƒ¨åˆ†ç»„æˆï¼šæ­£åˆ™è¡¨è¾¾å¼ã€æ›¿æ¢å’Œç±»å‹ã€‚
# æœ‰ä¸‰ç§é‡å®šå‘æ–¹å¼: "header" å’Œ "302""307"
# Header æ¨¡å¼ header
# Surge ä¼šä¿®æ”¹http headerï¼Œå¹¶åœ¨å¿…è¦æ—¶å°†è¯·æ±‚é‡å®šå‘åˆ°å…¶ä»–ä¸»æœºã€‚å®¢æˆ·ç«¯ä¸ä¼šæ³¨æ„åˆ°è¿™ä¸ªé‡å†™åŠ¨ä½œã€‚
# è¯·æ±‚å¤´ä¸­çš„ã€ŒHostã€å­—æ®µå°†è¢«ä¿®æ”¹ä»¥åŒ¹é…æ–°çš„ URLã€‚ header
# ä¾‹å¦‚ï¼š
# [URL Rewrite] header
# ^http://www\.google\.cn http://www.google.com header
# ä¸èƒ½é‡å®šå‘ HTTPS scheme çš„ URLã€‚è€Œä¸”ä¹Ÿä¸èƒ½é‡å®šå‘ HTTPS è¯·æ±‚ã€‚
# 302 æ¨¡å¼ header
# Surge ç›´æ¥ç®€å•çš„è¿”å›ä¸€ä¸ª 302ï¼Œå½“ HTTPS è§£å¯†å¯¹å¯¹åº”çš„ä¸»æœºå¹¶å¼€å¯æ—¶ï¼Œå¯ä»¥å¯¹ HTTPS è¯·æ±‚ä½¿ç”¨ã€‚
# Redirect Google Search Service
^(http|https):\/\/(www.)?(g|google)\.cn https://www.google.com 302
^https?://(.*?[.])?(?:g|google).cn https://$1google.com 302
# Redirect Google Maps Service
^(http|https):\/\/(ditu|maps).google\.cn https://maps.google.com 302
# Weibo Short URL
^http:\/\/t\.cn http://sinaurl.cn 302
# HTTP 307 æ¨¡å¼
# HTTP 307 æ¨¡å¼ä¼šç®€å•çš„è¿”å›ä¸€ä¸ª 307 å“åº”ã€‚å½“ HTTPS è§£å¯†å¯¹å¯¹åº”çš„ä¸»æœºå¹¶å¼€å¯æ—¶ï¼Œå¯ä»¥å¯¹ HTTPS è¯·æ±‚ä½¿ç”¨ã€‚
# 307 çš„ Rewrite è§„åˆ™å†™æ³•ä¸ 302 ç±»ä¼¼ï¼Œå°† 302 æ¢æˆ 307 å³å¯ã€‚
# Reject æ¨¡å¼ header
# å½“ URL åŒ¹é…æ—¶æ‹’ç»è¯·æ±‚ï¼Œå½“ HTTPS è§£å¯†å¯¹å¯¹åº”å¯¹çš„ä¸»æœºå¼€å¯æ—¶ï¼Œå¯ä»¥å¯¹ HTTPS è¯·æ±‚ä½¿ç”¨ã€‚
# Header Rewrite header
# Surge å¯ä»¥é‡å†™å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚å¤´ï¼Œç„¶åå†è½¬å‘ç»™æœåŠ¡å™¨ã€‚ header
# è¯¥åŠŸèƒ½ç”¨äºç®€å•çš„ä¿®æ”¹è¯·æ±‚å¤´çš„å­—æ®µï¼Œæ”¯æŒ addã€delã€replace ä¸‰ç§æ“ä½œã€‚
# å½“ä½¿ç”¨ add æ“ä½œæ—¶ï¼Œå¦‚æœè¯¥å­—æ®µåå·²ç»å­˜åœ¨ï¼Œä¼šè¿½åŠ ä¸€ä¸ªåŒåå­—æ®µï¼Œè¿™ç§è¡Œä¸ºæ˜¯è¢« HTTP æ ‡å‡†æ‰€å…è®¸çš„ï¼ŒæœåŠ¡ç«¯åº”è¯¥å°†å¤šä¸ªåŒåå­—æ®µæ‹¼æ¥åè¿›è¡Œç†è§£ã€‚ä½†æ˜¯ç”±äºéƒ¨åˆ† HTTP æœåŠ¡å™¨æœªæ­£ç¡®éµå¾ªè¯¥è§„èŒƒï¼Œé™¤éæœ‰ç‰¹æ®Šçš„éœ€æ±‚ï¼Œä¸€èˆ¬å»ºè®®ä½¿ç”¨ del å’Œ add ç»„åˆæ“ä½œï¼Œå…ˆåˆ å†åŠ ã€‚
# ä¾‹å¦‚ï¼š
# [Header Rewrite] header
# ^http://example.com header-add DNT 1
# ^http://example.com header-del Cookie
# ^http://example.com header-replace User-Agent Unknown
# é‡å†™è§„åˆ™ç”± 4 éƒ¨åˆ†ç»„æˆï¼šURL æ­£åˆ™è¡¨è¾¾å¼ã€æ¨¡å¼ã€å­—æ®µå’Œå€¼ã€‚
# [Header Rewrite] header
# ^(http|https)://zhidao\.baidu\.com header-replace User-Agent "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0.3 Safari/605.1.15"
# ä¾‹å¦‚åœ¨ç§»åŠ¨è®¾å¤‡è®¿é—®ç™¾åº¦çŸ¥é“æ—¶æƒ³æ˜¾ç¤ºæ¡Œé¢ç‰ˆçš„é¡µé¢ï¼Œå°±å¯ä»¥ä½¿ç”¨æ¡Œé¢ç«¯çš„ User-Agent æ›¿æ¢è¯·æ±‚å¤´ä¸­çš„ User-Agentã€‚
# Mock
# Mock æ˜¯ Surge iOS 4.3.0 å¼•å…¥çš„ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œå¯ä»¥æ¨¡æ‹Ÿ API æœåŠ¡å™¨å¹¶è¿”å›ä¸€ä¸ªé™æ€å“åº”ã€‚è¿™ä¸ªç‰¹æ€§ä¹Ÿå¯ä»¥ç§°ä¸º Map Local æˆ– API Mockingã€‚

[SSID Setting]
# [SSID
# åŒ¹é…
# åŒ¹é…
# åŒ¹é…è·¯ç”±çš„
# åŒ¹é…æ‰€æœ‰
# åŒ¹é…æ‰€æœ‰æœ‰çº¿ç½‘ç»œï¼šTYPE:WIREDï¼›
# åŒ¹é…æ‰€æœ‰èœ‚çªç½‘ç»œ
# åŒ¹é…æŒ‡å®šèœ‚çªç½‘ç»œ
# å¦å¤–ï¼Œè¿˜æ”¯æŒé€šé…ç¬¦ã€‚
# Suspend
# åœ¨ç‰¹å®šç½‘ç»œä¸‹ç¦ç”¨
# ä¾‹å¦‚ï¼š
# [SSID
# SSID:TP-Link suspend=true // ç¤ºä¾‹ï¼Œè¯·å‹¿å¯ç”¨
# MCCMNC:460-11 suspend=true // ç¤ºä¾‹ï¼Œè¯·å‹¿å¯ç”¨
# å¦‚ä¸Šç¤ºä¾‹åœ¨åä¸º
# å¦å¤–è¿˜æ”¯æŒé€šé…ç¬¦ï¼Œå¦‚æƒ³åœ¨æ‰€æœ‰ä»¥
# Cellular
# âš ï¸
# æ§åˆ¶ç‰¹å®š
# cellular-fallback=default
# cellular-fallback=off
# cellular-fallback=hybrid
# cellular-fallback=wifi-assist
# TCP
# tfo-behaviour=auto
# tfo-behaviour=force-disabled
# tfo-behaviour=force-enabled
# ä¸­å›½ç”¨æˆ·è‹¥ä½¿ç”¨
# å¼ºåˆ¶å…³é—­æ•°æ®ç½‘ç»œ
TYPE:CELLULAR tfo-behaviour=force-disabled
# DNS
# è¯¥è®¾ç½®æ˜¯å¯¹
# å­ç½‘ç­–ç•¥ç»„ï¼šSubnet
# ä»
# å¯ä½¿ç”¨
# å¯ä½¿ç”¨
# å¯ä½¿ç”¨
# å¯ä½¿ç”¨
# å¯ä½¿ç”¨
# å¯ä½¿ç”¨
# å¯ä½¿ç”¨
# å¦‚æ— å‰ç¼€åˆ™æŒ‰ç…§æ—§ç‰ˆè§„åˆ™åŒ¹é…
# SSID
# SSIDéƒ¨åˆ†å®Œç»“

[MITM]
# Surge ä»…ä¼šè§£å¯† hostname æŒ‡å®šçš„ä¸»æœºåçš„è¯·æ±‚ã€‚
# å¯ä½¿ç”¨é€šé…ç¬¦ * å’Œ ?ï¼›
# å¯ä½¿ç”¨å‰ç¼€ - å°†ç‰¹å®šä¸»æœºåæ’é™¤ï¼›
# é»˜è®¤ä»…è§£å¯†å‘å¾€ 443 ç«¯å£çš„è¯·æ±‚ï¼ˆå¯ä½¿ç”¨å¦‚ example.com:80 è§£å¯†ç‰¹å®šç«¯å£ï¼Œæˆ–ä½¿ç”¨å¦‚ example.com:0 è§£å¯†æ‰€æœ‰ç«¯å£ï¼‰ï¼›
# <ip-address> è¡¨ç¤ºåŒ¹é…æ‰€æœ‰ä¸»æœºåä¸º IP åœ°å€çš„è¿æ¥ï¼›
# <ipv4-address> è¡¨ç¤ºåŒ¹é…æ‰€æœ‰ä¸»æœºåä¸º IPv4 åœ°å€çš„è¿æ¥ï¼›
# <ipv6-address> è¡¨ç¤ºåŒ¹é…æ‰€æœ‰ä¸»æœºåä¸º IPv6 åœ°å€çš„è¿æ¥ï¼›
# iOS ç³»ç»Ÿå’ŒæŸäº›åº”ç”¨æœ‰ä¸¥æ ¼çš„å®‰å…¨ç­–ç•¥ï¼Œä»…ä¿¡ä»»æŸäº›ç‰¹å®šçš„è¯ä¹¦ï¼Œå¯¹è¿™äº›åŸŸåå¯åŠ¨è§£å¯†å¯èƒ½å¯¼è‡´é—®é¢˜ï¼Œå¦‚ï¼š*.apple.comã€*.icloud.comã€‚
# ä¾‹å­
# google.comï¼šè§£å¯†æ‰€æœ‰å‘å¾€ google.com ä¸Šçš„ 443 ç«¯å£çš„è¯·æ±‚ï¼›
# google.com:8443ï¼šè§£å¯†æ‰€æœ‰å‘å¾€ google.com ä¸Šçš„ 8443 ç«¯å£çš„è¯·æ±‚ï¼›
# *.google.com:0ï¼šè§£å¯†æ‰€æœ‰å‘å¾€ google.com åŠå…¶å­åŸŸåä¸Šæ‰€æœ‰ç«¯å£çš„è¯·æ±‚ï¼›
# -google.comï¼šä¸è§£å¯†æ‰€æœ‰å‘å¾€ google.com ä¸Šçš„ 443 ç«¯å£çš„è¯·æ±‚ï¼›
# è·³è¿‡æœåŠ¡ç«¯è¯ä¹¦éªŒè¯
# skip-server-cert-verify = true
# ç”¨äº TCP è¿æ¥
# tcp-connection = false
# å¼€å¯è¯¥é€‰é¡¹å Surge å°†å¯¹ MitM ä¸»æœºååˆ—è¡¨ä¸­çš„ TCP è¿æ¥ä¹Ÿè¿›è¡Œ MitM è§£å¯†ï¼Œå¦‚æœè¯¥è¿æ¥å¹¶é HTTPS è¯·æ±‚å°†å¯¼è‡´è¿æ¥å¤±è´¥ã€‚
# ç”¨äº HTTP/2
# h2 = true
# è‹¥éœ€æ”¯æŒä½¿ç”¨ HTTP/2 åè®®æ‰§è¡Œ MITMï¼Œä»¥æé«˜å¹¶å‘è¯·æ±‚çš„æ€§èƒ½ï¼Œå¯åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä¸Šè¿°ç¤ºä¾‹ã€‚
# ä»…ç‰¹å®šè®¾å¤‡å¯ç”¨ MitM
# å¯ä»¥æŒ‡å®šä¸€ä¸ªå•ä¸€çš„IPåœ°å€æˆ–ä½¿ç”¨ CIDR è®¾ç½®ç‰¹å®šè®¾å¤‡å¯ç”¨ MitMï¼Œå‡æ”¯æŒ IPv4 å’Œ IPv6ã€‚
# ä¾‹å¦‚ï¼š
# client-source-address = 0.0.0.0/0, ::/0
# å¦‚é’ˆå¯¹æŸä¸ªè®¾å¤‡ä¸å¯ç”¨å¯ä½¿ç”¨ -ï¼šclient-source-address = -192.168.1.2, 0.0.0/0
skip-server-cert-verify = true
# è·³è¿‡æœåŠ¡ç«¯è¯ä¹¦éªŒè¯
h2 = true
# ç”¨äº TCP è¿æ¥
# è‡ªå¸¦2ä¸ªwarp+èŠ‚ç‚¹ï¼Œä½ ä»¬ä¹Ÿå¯ä»¥åŠ å…¥æˆ‘çš„teamï¼šgetsomecatsï¼ŒéªŒè¯æ–¹å¼ä¸ºï¼šgmail
ca-passphrase = 40DA2682

[Script]
# è„šæœ¬
# ä½¿ç”¨ JavaScript æ‰©å±• Surge çš„å„é¡¹åŠŸèƒ½
# ä»¥ä¸‹ä¸¤ä¸ªè„šæœ¬è¯·æ­é…æ¨¡å—éƒ¨åˆ†çš„è·å–cookieä½¿ç”¨
# Bç«™ç­¾åˆ°è„šæœ¬ï¼Œä½¿ç”¨æ–¹æ³•è§è„šæœ¬è¯´æ˜
# https://raw.githubusercontent.com/ClydeTime/Surge/main/Script/Task/BiliBili.js
# å–œé©¬æ‹‰é›…ç­¾åˆ°è„šæœ¬
# https://raw.githubusercontent.com/ClydeTime/Quantumult/main/Script/Task/xmlySign.js
# æ¨¡å—
# æ¨¡å—æ˜¯å¯¹é…ç½®æ–‡ä»¶çš„è¡¥ä¸ï¼Œæ¯ä¸ªæ¨¡å—æ–‡ä»¶ç”¨äºå¯¹é…ç½®æ–‡ä»¶çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œå¾®è°ƒï¼Œå¯ç”¨äºè¦†ç›–å½“å‰é…ç½®çš„éƒ¨åˆ†è®¾å®šï¼Œæ¨¡å—å¯ä»¥ï¼š
# çµæ´»çš„å¼€å¯ä¸å…³é—­ã€‚
# åœ¨åŒä¸€ä¸ªæ–‡ä»¶å†…å¯¹å¤šä¸ªæ®µè¿›è¡Œè°ƒæ•´ã€‚
# å¯é€šè¿‡ URL è¿›è¡Œå®‰è£…å¹¶ä¿æŒæ›´æ–°ã€‚
# ä½†æ˜¯ï¼š
# æ¨¡å—ä¸å¯ä»¥è°ƒæ•´ [Proxy]ã€[Proxy Group]ã€[Rule] æ®µå†…å®¹ã€‚
# æ¨¡å—ä¸å¯ä»¥è°ƒæ•´ MITM çš„ CA è¯ä¹¦ã€‚
# æ¨¡å—çš„è®¾ç½®è¦†ç›–äºä¸»é…ç½®ä¹‹ä¸Šï¼Œå› æ­¤ä¸å¯ä»¥é€šè¿‡ UI è¿›è¡Œè°ƒæ•´ã€‚
# æ¨¡å—æœ‰éå¸¸å¤šçš„ä½¿ç”¨åœºæ™¯ä»¥å®ç°æŸä¸ªç‰¹å®šçš„ä»»åŠ¡ï¼š
# è°ƒæ•´ä¸å¯ç¼–è¾‘çš„é…ç½®æ–‡ä»¶ä¸­çš„è®¾ç½®ï¼Œå¦‚æ‰˜ç®¡é…ç½®å’Œä¼ä¸šé…ç½®ï¼›
# å¿«æ·çš„åœ¨ä¸åŒå·¥ä½œç¯å¢ƒä¸­åˆ‡æ¢ã€‚ä¾‹å¦‚ä¸´æ—¶å¼€å¯å¯¹æ‰€æœ‰åŸŸåçš„ MitM å¹¶è°ƒæ•´è¿‡æ»¤å™¨ï¼›
# ä½¿ç”¨ä»–äººç¼–å†™çš„æ¨¡å—ä»¥å®ŒæˆæŸäº›ç‰¹å®šçš„ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œæ‚¨çš„åŒäº‹å¯ä»¥ç¼–å†™ä¸€ä¸ªæ¨¡å—å°†åº”ç”¨çš„ API è¯·æ±‚é‡å®šå‘è‡³æµ‹è¯•æœåŠ¡å™¨ï¼›
# åœ¨å¤šä¸ªè®¾å¤‡ä¹‹é—´å…±åŒä½¿ç”¨ä¸€ä¸ªé…ç½®æ–‡ä»¶æ—¶ï¼Œå¯èƒ½éœ€è¦é’ˆå¯¹ä¸åŒåœºæ™¯ä¿®æ”¹æŸäº›è®¾ç½®ã€‚
# æ¨¡å—çš„å¼€å¯çŠ¶æ€æ˜¯ä¿å­˜äºå½“å‰è®¾å¤‡çš„ï¼Œå¯ä»¥ç”¨åœ¨ä¸åŒè®¾å¤‡é—´çš„å·®å¼‚æ€§ä¿®æ”¹ï¼›
# åŸºæœ¬æ¦‚å¿µ
# æ¨¡å—ç±»ä¼¼äºå½“å‰é…ç½®æ–‡ä»¶çš„è¡¥ä¸ã€‚æ¨¡å—çš„è®¾ç½®ä¼˜å…ˆçº§é«˜äºé…ç½®æ–‡ä»¶çš„è®¾ç½®ã€‚
# æœ‰ä¸‰ç§ç±»å‹çš„æ¨¡å—ï¼š
# å†…éƒ¨æ¨¡å—ï¼šç”± Surge æœ¬èº«æä¾›ï¼›
# æœ¬åœ°æ¨¡å—ï¼šé…ç½®æ–‡ä»¶ç›®å½•ä¸­çš„ .sgmodule æ–‡ä»¶ï¼›
# å·²å®‰è£…æ¨¡å—ï¼šä½¿ç”¨ URL å®‰è£…çš„æ¨¡å—ï¼Œä¸€èˆ¬æ˜¯ä»¥ .sgmodule ç»“å°¾çš„ä¸€ä¸ªé“¾æ¥
# ç¼–å†™æ¨¡å—
# æ¨¡å—çš„è¯­æ³•ä¸é…ç½®æ–‡ä»¶ç›¸åŒã€‚æ‚¨å¯ä»¥è¦†ç›–ä»¥ä¸‹éƒ¨åˆ†ï¼š
# Generalã€Replicaã€MITM
# è¦†ç›–åŸå§‹å€¼ï¼škey = value
# è¿½åŠ åœ¨åŸå§‹å€¼çš„åé¢ï¼škey = %APPEND% value
# æ’å…¥åœ¨åŸå§‹å€¼çš„å‰é¢ï¼škey = %INSERT% value
# Ruleã€Scriptã€URL Rewriteã€Header Rewriteã€Host
# æ–°è¡Œå°†æ’å…¥åˆ°åŸå§‹å†…å®¹çš„é¡¶éƒ¨ã€‚
# æ¨¡å—ä¸­çš„è§„åˆ™åªèƒ½ä½¿ç”¨å†…éƒ¨ç­–ç•¥ï¼šDIRECTã€REJECT å’Œ REJECT-TINYGIFã€‚
# æ‚¨å¯ä»¥åœ¨æ¨¡å—æ–‡ä»¶ä¸­æ·»åŠ  Metadataï¼š
# #!name=æ¨¡å—åç§°
# #!desc=æ¨¡å—æè¿°
# æ‚¨å¯ä»¥å°†æ¨¡å—é™åˆ¶ä¸ºæŒ‡å®šçš„å¹³å°ï¼šï¼ˆå¯é€‰ï¼‰
# #!system=mac
# å¯é€‰ mac å’Œ iosï¼Œå¦‚æœä½ å¹¶ä¸æƒ³é™åˆ¶åœ¨æŸä¸€ä¸ªå¹³å°å¯çœç•¥è¯¥è¡Œå­—æ®µ
# ä»¥ä¸‹æ˜¯æ‰€é™„ä¸Šçš„ä¸€äº›ç»å¸¸èƒ½å¤Ÿç”¨åˆ°çš„æ¨¡å—ã€‚
# ç‰ˆæƒå±äºæ¨¡å—çš„ä½œè€…ï¼Œæˆ‘è¿™é‡Œä»…ä»…åªæ˜¯æ”¶é›†æ•´ç†ï¼Œä¸å¯¹ä½¿ç”¨æ–¹æ³•åšä»»ä½•è§£ç­”ï¼
# ä¸å¯¹ä½¿ç”¨æ–¹æ³•åšä»»ä½•è§£ç­”ï¼ä¸å¯¹ä½¿ç”¨æ–¹æ³•åšä»»ä½•è§£ç­”ï¼
# è¿œç¨‹æ¨¡å—å®‰è£…æ–¹å¼ï¼šæ‰“å¼€ Surge -> æ¨¡å— -> å®‰è£…æ–°æ¨¡å—... -> å¤åˆ¶ç²˜è´´ä¸Šæ–¹çš„å®‰è£…é“¾æ¥ -> å®Œæˆ!ï¼›
# Boxjsæ¨¡å—
# ä½¿ç”¨æ•™ç¨‹ï¼šhttps://github.com/chavyleung/scripts#%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F
# https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.surge.sgmodule
# Sub-Store
# é«˜çº§è®¢é˜…ç®¡ç†å·¥å…· @Peng-YM
# ä½¿ç”¨æ•™ç¨‹ï¼šhttps://www.notion.so/Sub-Store-6259586994d34c11a4ced5c406264b46
# https://raw.githubusercontent.com/sub-store-org/Sub-Store/master/config/Surge.sgmodule
# è¯¥æ¨¡å—é€‚ç”¨äºå®šæ—¶ç­¾åˆ°è„šæœ¬çš„Cookieè·å–. é›†æˆ: BiliBili, å–œé©¬æ‹‰é›…; æ‚¨å¯ä»¥åœ¨ä½¿ç”¨åæ‰‹åŠ¨å°†å…¶ç¦ç”¨ï¼Œä»¥å…äº§ç”Ÿä¸å¿…è¦çš„MITM.
# æœ¬æ¨¡å—é…åˆè„šæœ¬éƒ¨åˆ†çš„ç­¾åˆ°è„šæœ¬ä½¿ç”¨
# https://raw.githubusercontent.com/ClydeTime/Quantumult/main/Task/GetCookie.sgmodule
# bilibiliå»å¹¿å‘Š(>=iOS15)
# https://raw.githubusercontent.com/app2smile/rules/master/module/bilibili.sgmodule
# éƒ¨åˆ†è§£é”spotify premium,å»ºè®®é‡æ–°ç™»å½•,éŸ³è´¨ä¸èƒ½è®¾ç½®ä¸ºè¶…é«˜
# https://raw.githubusercontent.com/app2smile/rules/master/module/spotify.module
# å¹¿å‘Šè”ç›Ÿå»å¹¿å‘Š ï¼ˆå¿«æ‰‹è”ç›Ÿ,ä¼˜é‡æ±‡,ç©¿å±±ç”²ï¼‰
# https://raw.githubusercontent.com/app2smile/rules/master/module/adsense.sgmodule
# èµ·ç‚¹Appå»å¹¿å‘Š
# https://raw.githubusercontent.com/app2smile/rules/master/module/qidian.sgmodule
# è…¾è®¯æ–°é—»Appå»å¹¿å‘Š å¼€å±é¡µå¹¿å‘Šæœ‰ç¼“å­˜,éœ€è¦å…¨æ–°åº”ç”¨
# https://raw.githubusercontent.com/app2smile/rules/master/module/qqnews.sgmodule
# è´´å§éƒ¨åˆ†å»å¹¿å‘Š
# 1.å¼€å±é¡µå¹¿å‘Š 2.å¸–å­çœ‹å›¾æ¨¡å¼å¹¿å‘Šå»é™¤ 3.é¦–é¡µ/å¸–å­è¯¦æƒ…é¡µå³ä¸‹è§’æ‚¬æµ®å¹¿å‘Šå»é™¤
# https://raw.githubusercontent.com/app2smile/rules/master/module/tieba-mini.sgmodule
# çŸ¥ä¹Appå»å¹¿å‘Š
# https://raw.githubusercontent.com/app2smile/rules/master/module/zhihu.sgmodule
# å±è”½iOSç³»ç»Ÿæ›´æ–°
# https://raw.githubusercontent.com/xOS/Config/Her/Module/General/BlockUpdate.sgmodule
# å¾®åšå®˜æ–¹APPå‡€åŒ–
# https://raw.githubusercontent.com/xOS/Config/Her/Module/General/Weibo.sgmodule
# å¿«é€Ÿæ£€æµ‹èŠ‚ç‚¹æœ‰æ²¡æœ‰è§£é”æµåª’ä½“
# https://raw.githubusercontent.com/Rabbit-Spec/Surge/Master/Module/Panel/Stream-All/Moore/Stream-All.sgmodule
# æ˜¾ç¤ºè¿˜éœ€è¦æ‘¸é±¼å¤šå°‘å¤©å°±å¯ä»¥è§£æ”¾
# æ‰“å¼€ Surge -> æ¨¡å— -> æ–°å»ºæœ¬åœ°æ¨¡å— -> å¤åˆ¶ç²˜è´´ä¸Šæ–¹çš„å®‰è£…é“¾æ¥é‡Œçš„æ¨¡å—å†…å®¹åˆ°æœ¬åœ°ï¼ˆä¸æ˜¯å¤åˆ¶é“¾æ¥ï¼ï¼‰ -> åœ¨Scriptä¸­å¿…é¡»ä¿®æ”¹çš„å‚æ•°ï¼šgroupï¼šä½ ç­–ç•¥ç»„çš„åç§° -> å®Œæˆ!
# https://raw.githubusercontent.com/Rabbit-Spec/Surge/Master/Module/Panel/Timecard/Moore/Timecard.sgmodule
# æœºåœºæµé‡ä¿¡æ¯
# æŸ¥çœ‹ä½ æœºåœºå½“å‰å‰©ä½™çš„æµé‡
# æŸ¥çœ‹ä½ æœºåœºè´­ä¹°å¥—é¤çš„æµé‡
# æŸ¥çœ‹ä½ æœºåœºé‡ç½®æµé‡çš„æ—¥æœŸ
# æŸ¥çœ‹ä½ æœºåœºå¥—é¤åˆ°æœŸçš„æ—¥æœŸ
# å®‰è£…æ–¹å¼
# æ‰“å¼€ Surge -> æ¨¡å— -> æ–°å»ºæœ¬åœ°æ¨¡å— -> å¤åˆ¶ç²˜è´´ä¸Šæ–¹çš„å®‰è£…é“¾æ¥é‡Œçš„æ¨¡å—å†…å®¹åˆ°æœ¬åœ°ï¼ˆä¸æ˜¯å¤åˆ¶é“¾æ¥ï¼ï¼‰-> å…ˆå°†å¸¦æœ‰æµé‡ä¿¡æ¯çš„èŠ‚ç‚¹è®¢é˜…é“¾æ¥encodeï¼Œç”¨encodeåçš„é“¾æ¥æ›¿æ¢"url="åé¢çš„[æœºåœºèŠ‚ç‚¹é“¾æ¥] -> å®Œæˆ!
# encodeé“¾æ¥ï¼š https://www.urlencoder.org
# https://raw.githubusercontent.com/Rabbit-Spec/Surge/Master/Module/Panel/Sub-info/Moore/Sub-info.sgmodule
# Network-Info (ç½‘ç»œä¿¡æ¯)
# https://raw.githubusercontent.com/Rabbit-Spec/Surge/Master/Module/Panel/Network-Info/Moore/Network-Info.sgmodule
# ä¸€ä¸ªå¯ä»¥æ˜¾ç¤ºSurgeå¯åŠ¨æ—¶é•¿çš„é¢æ¿
# https://raw.githubusercontent.com/Rabbit-Spec/Surge/Master/Module/Panel/Surge-Pro/Moore/SurgePro.sgmodule
# 1.1.1.1 by Cloudflare with WARP
# é…ç½®æ•™ç¨‹ï¼šhttps://www.craft.do/s/avqa8GJuLbLsFv
# https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/WarpPanel/WarpPanel%2B.sgmodule
# ä¸€ä¸ªå¯ä»¥æ˜¾ç¤ºä½ å½“å‰èŠ‚ç‚¹ä¿¡æ¯çš„é¢æ¿
# https://raw.githubusercontent.com/Rabbit-Spec/Surge/Master/Module/Panel/IP-Check/Moore/IP-Check.sgmodule
# é…·æˆ‘è§£é”
# https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/KuWoMusic/KuWoMusic.Surge.sgmodule
